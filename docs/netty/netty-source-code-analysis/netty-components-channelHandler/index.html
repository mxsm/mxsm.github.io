<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-netty/netty-source-code-analysis/netty-components-channelHandler">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Netty组件-ChannelHandler(图文并茂) | mxsm(蚂蚁背大象)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://blog.ljbmxsm.com/docs/netty/netty-source-code-analysis/netty-components-channelHandler"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Netty组件-ChannelHandler(图文并茂) | mxsm(蚂蚁背大象)"><meta data-rh="true" name="description" content="Netty版本：netty-4.1.74.Final"><meta data-rh="true" property="og:description" content="Netty版本：netty-4.1.74.Final"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://blog.ljbmxsm.com/docs/netty/netty-source-code-analysis/netty-components-channelHandler"><link data-rh="true" rel="alternate" href="https://blog.ljbmxsm.com/docs/netty/netty-source-code-analysis/netty-components-channelHandler" hreflang="en"><link data-rh="true" rel="alternate" href="https://blog.ljbmxsm.com/docs/netty/netty-source-code-analysis/netty-components-channelHandler" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="mxsm(蚂蚁背大象) RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="mxsm(蚂蚁背大象) Atom Feed">




<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-141789564-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-226F0LR9KE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-226F0LR9KE",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.efb36c14.css">
<link rel="preload" href="/assets/js/runtime~main.844aad12.js" as="script">
<link rel="preload" href="/assets/js/main.1cec991d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/mxsm/mxsm-website">GitHub</a> and follow me. This web site is updating!! </div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/intro">Tutorial</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">RocketMQ</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/rocketmq/rocketmq5">RocketMQ 5.0</a></li><li><a class="dropdown__link" href="/docs/rocketmq/rocketmq4">RocketMQ 4.X</a></li><li><a href="https://github.com/apache/rocketmq" target="_blank" class="dropdown__link">RocketMQ GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://rocketmq.apache.org/" target="_blank" class="dropdown__link">RocketMQ official website<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a class="navbar__item navbar__link" href="/docs/event-mesh/">EventMesh</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Spring</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/spring/spring-framework">Spring Framework</a></li><li><a class="dropdown__link" href="/docs/spring/spring-boot">Spring Boot</a></li><li><a class="dropdown__link" href="/docs/spring/spring-cloud">Spring Cloud</a></li><li><a href="https://spring.io/" target="_blank" class="dropdown__link">Spring official website<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Java</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/java/java-se">Java SE</a></li><li><a class="dropdown__link" href="/docs/java/java-web">Java Web</a></li><li><a class="dropdown__link" href="/docs/java/java-tools">Java Tools</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Rust</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/rust/official-doc">Rust官方文档(翻译)</a></li><li><a class="dropdown__link" href="/docs/rust/rust-learn/introduction">Rust学习</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">C++</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/java/java-se">Java SE</a></li><li><a class="dropdown__link" href="/docs/java/java-web">Java Web</a></li><li><a class="dropdown__link" href="/docs/java/java-tools">Java Tools</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Cloud Native</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/cloud-native/open-telemetry">OpenTelemetry</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Middleware</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/netty/">Netty</a></li><li><a class="dropdown__link" href="/docs/redis">Redis</a></li><li><a class="dropdown__link" href="/docs/intro">Kafka-改造中</a></li><li><a class="dropdown__link" href="/docs/intro">Etcd-改造中</a></li><li><a class="dropdown__link" href="/docs/docker">Docker</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Database</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/intro">SQL-改造中</a></li><li><a class="dropdown__link" href="/docs/intro">MySQL-改造中</a></li><li><a class="dropdown__link" href="/docs/intro">PostgreSQL-改造中</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Theory</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/intro">SQL</a></li><li><a class="dropdown__link" href="/docs/intro">MySQL</a></li><li><a class="dropdown__link" href="/docs/intro">PostgreSQL</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Others</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/others/blog-building">Blog building</a></li><li><a class="dropdown__link" href="/docs/others/tools">Develop Tools</a></li><li><a class="dropdown__link" href="/docs/intro">PostgreSQL</a></li></ul></div><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mxsm" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/netty/">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/netty/netty-introduction/Netty-ByteBuf">Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-introduction/Netty-ByteBuf">Netty四大组件之ByteBuf</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-introduction/Netty-ChannelHandler">Netty-ChannelHandler组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-introduction/Netty-EventLoop">Netty-EventLoop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-introduction/Netty-annotation-Sharable">Netty @Sharable到底是干什么用的</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-introduction/Netty-channel">Netty五大组件之Channel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-introduction/Netty-optimize">Netty优化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-introduction/Netty">Netty</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/netty/netty-source-code-analysis/netty-FastThreadLocal">Source Code Analysis</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-source-code-analysis/netty-FastThreadLocal">Netty FastThreadLocal相比Java ThreadLocal到底快在哪里?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/netty/netty-source-code-analysis/netty-components-channelHandler">Netty组件-ChannelHandler(图文并茂)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-source-code-analysis/netty-components-channelPipeline-channelContext">Netty组件-ChannelHandlerContext和ChannelPipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-source-code-analysis/netty-eventloop-base">Netty组件-EventLoop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-source-code-analysis/netty-eventloopgroup-howto-work">Netty源码分析-EventLoopGroup如何工作</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-source-code-analysis/netty-source-analysis-SizeClasses">Netty源码解析-SizeClasses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-source-code-analysis/netty-source-analysis-pooled-manage">Netty源码解析-池化内存管理解析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-source-code-analysis/netty-source-bossgroup-switch-workgroup">Netty源码分析-Channel如何从主线程切换到从线程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-source-code-analysis/netty-source-channelRead-object">Netty源码解析-ChannelInboundHandler#channelRead参数Object对象到底是什么类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-source-code-analysis/netty-source-channelhandler-order">Netty源码分析-ChannelHandler方法执行顺序和如何工作</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-source-code-analysis/netty-source-cumulator">Netty源码解析-累加器(Cumulator)处理粘包半包问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-source-code-analysis/netty-source-decoder">Netty源码解析-解码器(Decoder)是如何工作</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-source-code-analysis/netty-source-eventloop-startrun">Netty源码解析-EventLoop什么时候启动运行</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-source-code-analysis/netty-source-serverbootstrap-flow">Netty源码解析-服务端启动流程详解</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/netty/netty-faq/netty-FAQ-components-relation">FAQ</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-faq/netty-FAQ-components-relation">Netty答疑解惑-Netty组件之间的关系</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/netty/netty-faq/netty-FAQ-eventloopgroup-executor">Netty答疑解惑-EventLoopGroup执行器线程数小于nThreads会怎么样?</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Source Code Analysis</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Netty组件-ChannelHandler(图文并茂)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Netty组件-ChannelHandler(图文并茂)</h1></header><blockquote><p>Netty版本：<a href="https://github.com/netty/netty/releases/tag/netty-4.1.74.Final" target="_blank" rel="noopener noreferrer">netty-4.1.74.Final</a></p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-channelhandler介绍">1. ChannelHandler介绍<a href="#1-channelhandler介绍" class="hash-link" aria-label="Direct link to 1. ChannelHandler介绍" title="Direct link to 1. ChannelHandler介绍">​</a></h3><p>官方给出的解释ChannelHandler的作用主要有两点：</p><ul><li>处理I/O事件，拦截I/O操作，主要用来处理Channel</li><li>在ChannelPipeline中从当前一个ChannelHandler传递调用到下一个ChannelHandler</li></ul><p>ChannelHandler的继承关系图如下：</p><p><img loading="lazy" src="https://raw.githubusercontent.com/mxsm/picture/main/netty/channelhandler/ChannelHandler%E7%9A%84%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB.png" alt="ChannelHandler的继承关系" class="img_ev3q"></p><p>从上面可以看出来主要分为两类：</p><ul><li><p>ChannelInboundHandler</p><p>接收I/O入站的操作通知</p></li><li><p>ChannelOutboundHandler</p><p>接收I/O出站操作通知</p></li></ul><p>涉及的ChannelOutboundHandlerAdapter和ChannelInboundHandlerAdapter适配器主要是提供了方法的默认实现。</p><blockquote><p>Tips: ChannelDuplexHandler是双工处理器，具有ChannelInboundHandler和ChannelOutboundHandler的功能</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2channelhandler的生命周期">2.ChannelHandler的生命周期<a href="#2channelhandler的生命周期" class="hash-link" aria-label="Direct link to 2.ChannelHandler的生命周期" title="Direct link to 2.ChannelHandler的生命周期">​</a></h3><p>从ChannelHandler的源码来看：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public interface ChannelHandler {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void handlerAdded(ChannelHandlerContext ctx) throws Exception;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void handlerRemoved(ChannelHandlerContext ctx) throws Exception;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Deprecated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Inherited</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Documented</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Target(ElementType.TYPE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Retention(RetentionPolicy.RUNTIME)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @interface Sharable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // no value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>只有三个方法：</p><ul><li><p><strong>ChannelHandler#handlerAdded</strong></p><p>被添加到上线文中触发</p></li><li><p><strong>ChannelHandler#handlerRemoved</strong></p><p>在上下文中被移除触发</p></li><li><p><strong>ChannelHandler#exceptionCaught</strong></p><p>有Throwable错误抛错触发</p></li></ul><blockquote><p>Tips:ChannelHandler#exceptionCaught方法已经被标记为过期，可以实现 ChannelInboundHandler#exceptionCaught的方法</p></blockquote><p><img loading="lazy" src="https://raw.githubusercontent.com/mxsm/picture/main/netty/channelhandler/ChannelHandler%E7%94%9F%E5%91%A8%E6%9C%9F.png" alt="ChannelHandler生周期" class="img_ev3q"></p><p>用一个服务端的例子来讲解整个过程：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package io.netty.example.discard;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import io.netty.bootstrap.ServerBootstrap;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import io.netty.channel.ChannelFuture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import io.netty.channel.ChannelInitializer;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import io.netty.channel.ChannelOption;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import io.netty.channel.EventLoopGroup;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import io.netty.channel.nio.NioEventLoopGroup;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import io.netty.channel.socket.SocketChannel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import io.netty.channel.socket.nio.NioServerSocketChannel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Discards any incoming data.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class DiscardServer {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private int port;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public DiscardServer(int port) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.port = port;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void run() throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        EventLoopGroup bossGroup = new NioEventLoopGroup(); // (1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        EventLoopGroup workerGroup = new NioEventLoopGroup();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ServerBootstrap b = new ServerBootstrap(); // (2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            b.group(bossGroup, workerGroup)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             .channel(NioServerSocketChannel.class) // (3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() { // (4)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 public void initChannel(SocketChannel ch) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     ch.pipeline().addLast(new DiscardServerHandler());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             .option(ChannelOption.SO_BACKLOG, 128)          // (5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             .childOption(ChannelOption.SO_KEEPALIVE, true); // (6)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Bind and start to accept incoming connections.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ChannelFuture f = b.bind(port).sync(); // (7)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Wait until the server socket is closed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // In this example, this does not happen, but you can do that to gracefully</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // shut down your server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            f.channel().closeFuture().sync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } finally {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            workerGroup.shutdownGracefully();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            bossGroup.shutdownGracefully();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int port = 8080;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (args.length &gt; 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            port = Integer.parseInt(args[0]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new DiscardServer(port).run();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Tips: 代码来源Netty官网<a href="https://netty.io/wiki/user-guide-for-4.x.html#wiki-h3-6" target="_blank" rel="noopener noreferrer">https://netty.io/wiki/user-guide-for-4.x.html#wiki-h3-6</a></p></blockquote><p>上述代码其实分为两个部分一个部分是 <code>NioServerSocketChannel</code> 以及 <code>SocketChannel</code> 。 首先分析NioServerSocketChannel中的ChannelHandler。</p><p>通过代码可以知道NioServerSocketChannel创建后会调用<code>ServerBootstrap#init</code>方法。在该方法中有这样一段代码：</p><p><img loading="lazy" src="https://raw.githubusercontent.com/mxsm/picture/main/netty/channelhandler/image-20220311214033108.png" alt="image-20220311214033108" class="img_ev3q"></p><p>创建一个ChannelHandler的实例也就是ChannelInitializer添加到NioServerSocketChannel的ChannelPipeline中。通过跟踪ChannelPipeline#addLast方法，最终调用的是<code>DefaultChannelPipeline#addLast</code>方法：</p><p><img loading="lazy" src="https://raw.githubusercontent.com/mxsm/picture/main/netty/channelhandler/image-20220311214725357.png" alt="image-20220311214725357" class="img_ev3q"></p><p>然后在<code>DefaultChannelPipeline#callHandlerAdded0</code> 方法中调用的是<code>AbstractChannelHandlerContext#callHandlerAdded</code> 方法：</p><p><img loading="lazy" src="https://raw.githubusercontent.com/mxsm/picture/main/netty/channelhandler/image-20220311214916716.png" alt="image-20220311214916716" class="img_ev3q"></p><p>然后获取到ChannelHandler实例调用handlerAdded方法。也就是调用<strong>ChannelHandler#handlerAdded</strong> 方法。到这里就完成了从ChannelHandler创建到调用<code>ChannelHandler#handlerAdded</code> 方法。</p><p>如果调用<code>DefaultChannelPipeline#remove</code> 方法，最终调用的就是<code>AbstractChannelHandlerContext#callHandlerRemoved</code>在这个方法中：</p><p><img loading="lazy" src="https://raw.githubusercontent.com/mxsm/picture/main/netty/channelhandler/image-20220311215453340.png" alt="image-20220311215453340" class="img_ev3q"></p><p>调用了<code>ChannelHandler#handlerRemoved</code></p><p>对于<code>ChannelHandler#exceptionCaught</code> 在所有的ChannelHandler以及子类方法执行的时候都会有<code>try catch</code> 对异常进行捕获然后执行<code>AbstractChannelHandlerContext#invokeExceptionCaught</code> 方法</p><p><img loading="lazy" src="https://raw.githubusercontent.com/mxsm/picture/main/netty/channelhandler/image-20220311220153445.png" alt="image-20220311220153445" class="img_ev3q"></p><p>这个方法中都是调用了<code>ChannelHandler#exceptionCaught</code></p><blockquote><p>Tips: ChannelHandler#exceptionCaught方法标记为过期了，可以关注ChannelInboundHandler#exceptionCaught方法。同时还会在ChannelInitializer#initChannel中可能被执行</p></blockquote><p><strong>总结：ChannelHandler#handlerAdded方法主要发生在往ChannelPipeline添加ChannelHandler的时候，ChannelHandler#handlerRemoved主要发生在从ChannelPipeline删除ChannelHandler的时候，而ChannelHandler#exceptionCaught主要发生在执行ChannelInboundHandler和ChannelOutboundHandler方法的时候发生错误执行</strong></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3channelhandler的方法执行顺序">3.ChannelHandler的方法执行顺序<a href="#3channelhandler的方法执行顺序" class="hash-link" aria-label="Direct link to 3.ChannelHandler的方法执行顺序" title="Direct link to 3.ChannelHandler的方法执行顺序">​</a></h3><p>这里所说的ChannelHandler方法指的是ChannelHandler本身的方法以及ChannelInboundHandler和ChannelOutboundHandler方法的顺序。看一下这个三个类中分别有什么方法：</p><p><strong>ChannelHandler接口</strong></p><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>handlerAdded</td><td>当把 ChannelHandler 添加到 ChannelPipeline 中时被调用</td></tr><tr><td>handlerRemoved</td><td>当从 ChannelPipeline 中移除 ChannelHandler 时被调用</td></tr><tr><td>exceptionCaught</td><td>当处理过程中在 ChannelPipeline 中有错误产生时被调用</td></tr></tbody></table><p><strong><code>Netty</code></strong> 定义了下面两个重要的 <strong><code>ChannelHandler</code></strong>  子接口：</p><ul><li><strong>ChannelInboundHandler</strong> — 处理 <strong>入站</strong> 数据以及各种状态变化</li><li><strong>ChannelOutboundHandler</strong> — 处理 <strong>出站</strong> 数据并且允许拦截所有的操作</li></ul><p><strong>ChannelInboundHandler 接口</strong></p><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>channelRegistered</td><td>当 Channel 已经注册到它的 EventLoop 并且能够处理 I/O 时被调用</td></tr><tr><td>channelUnregistered</td><td>当 Channel 从它的 EventLoop 注销并且无法处理任何 I/O 时被调用</td></tr><tr><td>channelActive</td><td>当 Channel 处于活动状态时被调用;Channel 已经连接/绑定并且已经就绪</td></tr><tr><td>channelInactive</td><td>当 Channel 离开活动状态并且不再连接它的远程节点时被调用</td></tr><tr><td>channelReadComplete</td><td>当Channel上的一个读操作完成时被调用</td></tr><tr><td>channelRead</td><td>当从 Channel 读取数据时被调用</td></tr><tr><td>ChannelWritabilityChanged</td><td>当Channel的可写状态发生改变时被调用。用户可以确保写操作不会完成得太快(以避免发生 OutOfMemoryError)或者可以在 Channel 变为再次可写时恢复写入。可以通过调用Channel的isWritable()方法来检测Channel 的可写性。与可写性相关的阈值可以通过Channel.config().setWriteHighWaterMark()和 Channel.config().setWriteLowWaterMark()方法来设置</td></tr><tr><td>userEventTriggered</td><td>当 ChannelnboundHandler.fireUserEventTriggered()方法被调用时被调用，因为一个 POJO 被传经了 ChannelPipeline</td></tr></tbody></table><p><strong>ChannelOutboundHandler 接口</strong></p><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>bind(ChannelHandlerContext,SocketAddress,ChannelPromise)</td><td>当请求将 Channel 绑定到本地地址时被调用</td></tr><tr><td>connect(ChannelHandlerContext,SocketAddress,SocketAddress,ChannelPromise)</td><td>当请求将 Channel 连接到远程节点时被调用</td></tr><tr><td>disconnect(ChannelHandlerContext,ChannelPromise)</td><td>当请求将 Channel 从远程节点断开时被调用</td></tr><tr><td>close(ChannelHandlerContext,ChannelPromise)</td><td>当请求关闭 Channel 时被调用</td></tr><tr><td>deregister(ChannelHandlerContext,ChannelPromise)</td><td>当请求将 Channel 从它的 EventLoop 注销时被调用</td></tr><tr><td>read(ChannelHandlerContext)</td><td>当请求从 Channel 读取更多的数据时被调用</td></tr><tr><td>flush(ChannelHandlerContext)</td><td>当请求通过 Channel 将入队数据冲刷到远程节点时被调用</td></tr><tr><td>write(ChannelHandlerContext,Object,ChannelPromise)</td><td>当请求通过 Channel 将数据写到远程节点时被调用</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="32-从源码解析channelhandler方法执行顺序">3.2 从源码解析ChannelHandler方法执行顺序<a href="#32-从源码解析channelhandler方法执行顺序" class="hash-link" aria-label="Direct link to 3.2 从源码解析ChannelHandler方法执行顺序" title="Direct link to 3.2 从源码解析ChannelHandler方法执行顺序">​</a></h4><p>这个需要较长的篇幅来说明，我在文章《Netty源码解析-ChannelHandler方法执行顺序》进行详细的讲解。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4channelhandler的分类说明">4.ChannelHandler的分类说明<a href="#4channelhandler的分类说明" class="hash-link" aria-label="Direct link to 4.ChannelHandler的分类说明" title="Direct link to 4.ChannelHandler的分类说明">​</a></h3><p><img loading="lazy" src="https://raw.githubusercontent.com/mxsm/picture/main/netty/channelhandler/ChannelHandler%E5%88%86%E7%B1%BB.png" alt="ChannelHandler分类" class="img_ev3q"></p><p>ChannelHandler的实现主要有三个：</p><ul><li>ChannelInboundHandler ：处理<strong>入站</strong>数据以及各种变化，简单理解就是：客户端或者服务器端接收其他端的数据进行处理。</li><li>ChannelOutboundHandler ：处理 <strong>出站</strong> 数据并且允许拦截所有的操作，简单理解就是：客户端或者服务器端发送数据给其他端的数据处理，同时还可以拦截读写操作</li><li>ChannelDuplexHandler： 包含了ChannelInboundHandler 和ChannelOutboundHandler 的功能。</li></ul><p>从上面衍生出来就是解码器和编码器：</p><ul><li>XXXXDecoder： 主要负责将网络中的数据解码成端需要的数据，例如：ProtobufDecoder</li><li>XXXXEncoder： 主要负责将端结构化的数据编码成网络中传输的数据格式，例如：ProtobufEncoder</li></ul><p>解码器和编码器也是Netty中重要的组件。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5总结">5.总结<a href="#5总结" class="hash-link" aria-label="Direct link to 5.总结" title="Direct link to 5.总结">​</a></h3><ul><li>ChannelHandler是和Channel进行绑定的，通过ChannelHandlerContext进行触发。</li><li>ChannelHandler主要用于拦截I/O操作和I/O事件，同时通过ChannelPipeline将多个ChannelHandler串联在一起，形成一个调用链</li><li>ChannelHandler分为出站和入栈两种处理器，同时衍生出了编码器和解码器。</li></ul><blockquote><p>我是蚂蚁背大象，文章对你有帮助点赞关注我，文章有不正确的地方请您斧正留言评论~谢谢</p></blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mxsm/mxsm-website/edit/develop/docs/netty/netty-source-code-analysis/netty-components-channelHandler.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-08-20T07:55:36.000Z">Aug 20, 2023</time></b> by <b>mxsm</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/netty/netty-source-code-analysis/netty-FastThreadLocal"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Netty FastThreadLocal相比Java ThreadLocal到底快在哪里?</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/netty/netty-source-code-analysis/netty-components-channelPipeline-channelContext"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Netty组件-ChannelHandlerContext和ChannelPipeline</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-channelhandler介绍" class="table-of-contents__link toc-highlight">1. ChannelHandler介绍</a></li><li><a href="#2channelhandler的生命周期" class="table-of-contents__link toc-highlight">2.ChannelHandler的生命周期</a></li><li><a href="#3channelhandler的方法执行顺序" class="table-of-contents__link toc-highlight">3.ChannelHandler的方法执行顺序</a><ul><li><a href="#32-从源码解析channelhandler方法执行顺序" class="table-of-contents__link toc-highlight">3.2 从源码解析ChannelHandler方法执行顺序</a></li></ul></li><li><a href="#4channelhandler的分类说明" class="table-of-contents__link toc-highlight">4.ChannelHandler的分类说明</a></li><li><a href="#5总结" class="table-of-contents__link toc-highlight">5.总结</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/mxsm" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 mxsm(蚂蚁背大象), Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.844aad12.js"></script>
<script src="/assets/js/main.1cec991d.js"></script>
</body>
</html>