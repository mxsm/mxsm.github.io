<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-rust/official-doc/common-collections/string">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">使用字符串存储UTF-8编码的文本 | mxsm(蚂蚁背大象)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://blog.ljbmxsm.com/docs/rust/official-doc/common-collections/string"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="使用字符串存储UTF-8编码的文本 | mxsm(蚂蚁背大象)"><meta data-rh="true" name="description" content="使用字符串存储UTF-8编码的文本"><meta data-rh="true" property="og:description" content="使用字符串存储UTF-8编码的文本"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://blog.ljbmxsm.com/docs/rust/official-doc/common-collections/string"><link data-rh="true" rel="alternate" href="https://blog.ljbmxsm.com/docs/rust/official-doc/common-collections/string" hreflang="en"><link data-rh="true" rel="alternate" href="https://blog.ljbmxsm.com/docs/rust/official-doc/common-collections/string" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="mxsm(蚂蚁背大象) RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="mxsm(蚂蚁背大象) Atom Feed">




<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-141789564-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-226F0LR9KE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-226F0LR9KE",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.efb36c14.css">
<link rel="preload" href="/assets/js/runtime~main.844aad12.js" as="script">
<link rel="preload" href="/assets/js/main.1cec991d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/mxsm/mxsm-website">GitHub</a> and follow me. This web site is updating!! </div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/intro">Tutorial</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">RocketMQ</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/rocketmq/rocketmq5">RocketMQ 5.0</a></li><li><a class="dropdown__link" href="/docs/rocketmq/rocketmq4">RocketMQ 4.X</a></li><li><a href="https://github.com/apache/rocketmq" target="_blank" class="dropdown__link">RocketMQ GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://rocketmq.apache.org/" target="_blank" class="dropdown__link">RocketMQ official website<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a class="navbar__item navbar__link" href="/docs/event-mesh/">EventMesh</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Spring</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/spring/spring-framework">Spring Framework</a></li><li><a class="dropdown__link" href="/docs/spring/spring-boot">Spring Boot</a></li><li><a class="dropdown__link" href="/docs/spring/spring-cloud">Spring Cloud</a></li><li><a href="https://spring.io/" target="_blank" class="dropdown__link">Spring official website<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Java</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/java/java-se">Java SE</a></li><li><a class="dropdown__link" href="/docs/java/java-web">Java Web</a></li><li><a class="dropdown__link" href="/docs/java/java-tools">Java Tools</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Rust</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/rust/official-doc">Rust官方文档(翻译)</a></li><li><a class="dropdown__link" href="/docs/rust/rust-learn/introduction">Rust学习</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">C++</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/java/java-se">Java SE</a></li><li><a class="dropdown__link" href="/docs/java/java-web">Java Web</a></li><li><a class="dropdown__link" href="/docs/java/java-tools">Java Tools</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Cloud Native</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/cloud-native/open-telemetry">OpenTelemetry</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Middleware</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/netty/">Netty</a></li><li><a class="dropdown__link" href="/docs/redis">Redis</a></li><li><a class="dropdown__link" href="/docs/intro">Kafka-改造中</a></li><li><a class="dropdown__link" href="/docs/intro">Etcd-改造中</a></li><li><a class="dropdown__link" href="/docs/docker">Docker</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Database</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/intro">SQL-改造中</a></li><li><a class="dropdown__link" href="/docs/intro">MySQL-改造中</a></li><li><a class="dropdown__link" href="/docs/intro">PostgreSQL-改造中</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Theory</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/intro">SQL</a></li><li><a class="dropdown__link" href="/docs/intro">MySQL</a></li><li><a class="dropdown__link" href="/docs/intro">PostgreSQL</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Others</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/others/blog-building">Blog building</a></li><li><a class="dropdown__link" href="/docs/others/tools">Develop Tools</a></li><li><a class="dropdown__link" href="/docs/intro">PostgreSQL</a></li></ul></div><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mxsm" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/rust/official-doc">概述</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/rust/official-doc/introduction">1. 快速开始</a><button aria-label="Toggle the collapsible sidebar category &#x27;1. 快速开始&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/introduction/installation">1.1. 安装</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/introduction/HelloWorld">1.2 Hello, World!</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/introduction/HelloCargo">1.3.Hello, Cargo!</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/rust/official-doc/guessing-game/guessing-game">2. 编写猜数字游戏</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/rust/official-doc/concepts">3. 常见编程概念</a><button aria-label="Toggle the collapsible sidebar category &#x27;3. 常见编程概念&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/concepts/variables-mutability">3.1. 变量和可变性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/concepts/data-types">3.2. 数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/concepts/functions">3.3.函数</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/rust/official-doc/ownership">4. 理解所有权</a><button aria-label="Toggle the collapsible sidebar category &#x27;4. 理解所有权&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/ownership/ownership">4.1. 什么是所有权</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/ownership/references-borrowing">4.2. 引用和借用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/ownership/slice-type">4.3. 切片类型</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/rust/official-doc/structure-related-data">5. 使用结构体来组织相关数据</a><button aria-label="Toggle the collapsible sidebar category &#x27;5. 使用结构体来组织相关数据&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/structure-related-data/defining-instantiating-structs">5.1. 定义和实例化结构体</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/structure-related-data/using-structs">5.2. 使用结构体的示例程序</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/structure-related-data/method-syntax">5.3. 方法语法</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/rust/official-doc/enums-pattern-matching">6. 枚举和模式匹配</a><button aria-label="Toggle the collapsible sidebar category &#x27;6. 枚举和模式匹配&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/enums-pattern-matching/defining-enum">6.1. 定义枚举</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/enums-pattern-matching/match-construct">6.2. match控制流构造</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/enums-pattern-matching/concise">6.3. 使用if let进行简洁的控制流</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/rust/official-doc/packages-crates-modules">7. 使用包、板条箱和模块管理日益增长的项目</a><button aria-label="Toggle the collapsible sidebar category &#x27;7. 使用包、板条箱和模块管理日益增长的项目&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/packages-crates-modules/packages-crates">7.1. 包(Package)和板条箱(Crate)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/packages-crates-modules/modules">7.2. 定义模块以控制作用域和私有性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/packages-crates-modules/paths-referring">7.3. 在模块树中引用项目的路径</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/packages-crates-modules/bringing-paths">7.4. 使用use关键字将路径引入作用域</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/packages-crates-modules/separating-modules">separating-modules</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/rust/official-doc/common-collections">8. 常用集合</a><button aria-label="Toggle the collapsible sidebar category &#x27;8. 常用集合&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/common-collections/vector">8.1. 使用向量（Vectors）存储多个值</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/rust/official-doc/common-collections/string">8.2. 使用字符串存储UTF-8编码的文本</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rust/official-doc/common-collections/hashmap">8.3. 在哈希映射中存储具有关联值的键</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/rust/official-doc/common-collections"><span itemprop="name">8. 常用集合</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">8.2. 使用字符串存储UTF-8编码的文本</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>使用字符串存储UTF-8编码的文本</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用字符串存储utf-8编码的文本"><a href="https://doc.rust-lang.org/book/ch08-02-strings.html#storing-utf-8-encoded-text-with-strings" target="_blank" rel="noopener noreferrer">使用字符串存储UTF-8编码的文本</a><a href="#使用字符串存储utf-8编码的文本" class="hash-link" aria-label="Direct link to 使用字符串存储utf-8编码的文本" title="Direct link to 使用字符串存储utf-8编码的文本">​</a></h2><p>我们在第4章讨论了字符串，但现在我们将更深入地了解它们。初学 Rust 的程序员通常会因为以下三个原因而对字符串感到困惑：Rust 常常会暴露可能的错误，字符串是一种比许多程序员认为的更复杂的数据结构，还有 UTF-8。当你从其他编程语言转过来时，这些因素会结合在一起，使得学习使用字符串似乎很困难。</p><p>我们将在集合的上下文中讨论字符串，因为字符串被实现为一组字节，以及一些方法在将这些字节解释为文本时提供有用的功能。在本节中，我们将讨论 <code>String</code> 上的操作，这些操作是每个集合类型都具有的，比如创建、更新和读取。我们还将讨论 <code>String</code> 与其他集合的区别，即人们和计算机对 <code>String</code> 数据解释的差异，尤其是对 <code>String</code> 进行索引的复杂性。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="什么是字符串"><a href="https://doc.rust-lang.org/book/ch08-02-strings.html#what-is-a-string" target="_blank" rel="noopener noreferrer">什么是字符串？</a><a href="#什么是字符串" class="hash-link" aria-label="Direct link to 什么是字符串" title="Direct link to 什么是字符串">​</a></h3><p>我们首先来定义我们所说的 <em>字符串</em> 是什么。Rust 在核心语言中只有一种字符串类型，即字符串切片 <code>str</code>，通常以其借用形式 <code>&amp;str</code> 见诸人前。在第4章中，我们谈到了<em>字符串切片</em>，它们是对某个 UTF-8 编码的字符串数据的引用，存储在其他地方。例如，字符串字面值就存储在程序的二进制文件中，因此它们是字符串切片。</p><p><code>String</code> 类型是由 Rust 标准库提供的，而不是编码到核心语言中的，它是一种可增长、可变、所有权的 UTF-8 编码的字符串类型。当 Rustaceans 在 Rust 中谈论“字符串”时，他们可能是指 <code>String</code> 或字符串切片 <code>&amp;str</code> 类型，而不仅仅是其中一种类型。尽管本节主要讨论 <code>String</code>，但在 Rust 的标准库中，这两种类型都被广泛使用，并且 <code>String</code> 和字符串切片都是 UTF-8 编码的。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建一个新的字符串"><a href="https://doc.rust-lang.org/book/ch08-02-strings.html#creating-a-new-string" target="_blank" rel="noopener noreferrer">创建一个新的字符串</a><a href="#创建一个新的字符串" class="hash-link" aria-label="Direct link to 创建一个新的字符串" title="Direct link to 创建一个新的字符串">​</a></h3><p>许多在 <code>Vec&lt;T&gt;</code> 上可用的操作在 <code>String</code> 上也同样可用，因为 <code>String</code> 实际上是围绕一组字节的向量封装，并带有一些额外的保证、限制和功能。创建一个实例的函数在 <code>Vec&lt;T&gt;</code> 和 <code>String</code> 上都可以工作，示例 8-11 显示了使用 <code>new</code> 函数创建一个新的空字符串。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let mut s = String::new();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-11：创建一个新的、空的 <code>String</code></p><p>这一行创建了一个名为 <code>s</code> 的新空字符串，然后我们可以将数据加载到其中。通常，我们会有一些初始数据，我们想要用它来初始化字符串。为此，我们可以使用 <code>to_string</code> 方法，该方法在任何实现了 <code>Display</code> trait 的类型上都可用，就像字符串字面值一样。示例 8-12 展示了两个示例。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let data = &quot;initial contents&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s = data.to_string();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 也可以直接使用字符串字面值：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s = &quot;initial contents&quot;.to_string();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-12：使用 <code>to_string</code> 方法从字符串字面值创建一个 <code>String</code></p><p>这段代码创建了一个包含 <code>initial contents</code> 的字符串。</p><p>我们也可以使用函数 <code>String::from</code> 从字符串字面值创建一个 <code>String</code>。示例 8-13 中的代码与使用 <code>to_string</code> 的示例 8-12 中的代码是等价的。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let s = String::from(&quot;initial</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> contents&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-13：使用 <code>String::from</code> 函数从字符串字面值创建一个 <code>String</code></p><p>因为字符串用于许多不同的情况，我们可以使用许多不同的泛型 API 来处理字符串，这为我们提供了很多选择。有些看起来可能会显得多余，但它们都有其用武之地！在这种情况下，<code>String::from</code> 和 <code>to_string</code> 做的事情是一样的，所以选择哪个取决于风格和可读性。</p><p>请记住，字符串是 UTF-8 编码的，因此我们可以在其中包含任何正确编码的数据，就像示例 8-14 中所示的那样。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let hello = String::from(&quot;السلام عليكم&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let hello = String::from(&quot;Dobrý den&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let hello = String::from(&quot;Hello&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let hello = String::from(&quot;שָׁלוֹם&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let hello = String::from(&quot;नमस्ते&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let hello = String::from(&quot;こんにちは&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let hello = String::from(&quot;안녕하세요&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let hello = String::from(&quot;你好&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let hello = String::from(&quot;Olá&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let hello = String::from(&quot;Здравствуйте&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let hello = String::from(&quot;Hola&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-14：在字符串中存储不同语言的问候语</p><p>所有这些都是有效的 <code>String</code> 值。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="更新字符串"><a href="https://doc.rust-lang.org/book/ch08-02-strings.html#updating-a-string" target="_blank" rel="noopener noreferrer">更新字符串</a><a href="#更新字符串" class="hash-link" aria-label="Direct link to 更新字符串" title="Direct link to 更新字符串">​</a></h3><p><code>String</code> 可以增长大小，其内容也可以改变，就像 <code>Vec&lt;T&gt;</code> 的内容一样，如果您将更多数据推入其中。此外，您还可以方便地使用 <code>+</code> 运算符或 <code>format!</code> 宏将 <code>String</code> 值连接起来。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="使用-push_str-和-push-在字符串中添加内容"><a href="https://doc.rust-lang.org/book/ch08-02-strings.html#appending-to-a-string-with-push_str-and-push" target="_blank" rel="noopener noreferrer">使用 <code>push_str</code> 和 <code>push</code> 在字符串中添加内容</a><a href="#使用-push_str-和-push-在字符串中添加内容" class="hash-link" aria-label="Direct link to 使用-push_str-和-push-在字符串中添加内容" title="Direct link to 使用-push_str-和-push-在字符串中添加内容">​</a></h4><p>我们可以通过使用 <code>push_str</code> 方法来添加字符串切片，将其附加到 <code>String</code> 上，示例 8-15 显示了这一过程。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let mut s = String::from(&quot;foo&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s.push_str(&quot;bar&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-15：使用 <code>push_str</code> 方法将字符串切片附加到 <code>String</code></p><p>执行这两行后，<code>s</code> 将包含 <code>foobar</code>。<code>push_str</code> 方法接受一个字符串切片，因为我们不一定要获取参数的所有权。例如，在示例 8-16 中的代码中，我们希望在将其内容附加到 <code>s1</code> 后仍然能使用 <code>s2</code>。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let mut s1 = String::from(&quot;foo&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s2 = &quot;bar&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s1.push_str(s2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">println!(&quot;s2 is {s2}&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-16：在将其内容附加到 <code>String</code> 之后使用字符串切片</p><p>如果 <code>push_str</code> 方法获取了 <code>s2</code> 的所有权，我们将无法在最后一行打印其值。然而，这段代码的运行结果是我们所期望的！</p><p><code>push</code> 方法接受一个字符作为参数，并将其添加到 <code>String</code> 中。示例 8-17 使用 <code>push</code> 方法将字母“l”添加到 <code>String</code> 中。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let mut s = String::from(&quot;lo&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s.push(&#x27;l&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-17：使用 <code>push</code> 方法将一个字符添加到 <code>String</code> 中的值</p><p>结果，<code>s</code> 将包含 <code>lol</code>。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="使用--运算符或-format-宏连接字符串"><a href="https://doc.rust-lang.org/book/ch08-02-strings.html#concatenation-with-the--operator-or-the-format-macro" target="_blank" rel="noopener noreferrer">使用 <code>+</code> 运算符或 <code>format!</code> 宏连接字符串</a><a href="#使用--运算符或-format-宏连接字符串" class="hash-link" aria-label="Direct link to 使用--运算符或-format-宏连接字符串" title="Direct link to 使用--运算符或-format-宏连接字符串">​</a></h4><p>通常，您可能希望将两个现有的字符串组合起来。一种方法是使用 <code>+</code> 运算符，如示例 8-18 所示。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let s1 = String::from(&quot;Hello, &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s2 = String::from(&quot;world!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s3 = s1 + &amp;s2; // 注意 s1 在这里被移动并且不能再使用</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-18：使用 <code>+</code> 运算符将两个 <code>String</code> 值连接成一个新的 <code>String</code> 值</p><p>字符串 <code>s3</code> 将包含 <code>Hello, world!</code>。之所以 <code>s1</code> 在添加之后无效，以及为什么我们使用 <code>s2</code> 的引用，与使用 <code>+</code> 运算符时调用的方法的签名有关。<code>+</code> 运算符使用 <code>add</code> 方法，其签名如下所示：</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fn add(self, s: &amp;str) -&gt; String {</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在标准库中，您会看到 <code>add</code> 使用泛型和关联类型定义。在这里，我们使用了具体类型，这是在用 <code>String</code> 值调用此方法时发生的情况。我们将在第10章中讨论泛型。这个签名给了我们需要了解 <code>+</code> 运算符的一些技巧。</p><p>首先，<code>s2</code> 有一个 <code>&amp;</code>，这意味着我们正在将第二个字符串的 <em>引用</em> 添加到第一个字符串中。这是由于 <code>add</code> 函数中的 <code>s</code> 参数：我们只能将 <code>&amp;str</code> 添加到 <code>String</code> 中，而不能</p><p>将两个 <code>String</code> 值相加。但是等等——<code>&amp;s2</code> 的类型是 <code>&amp;String</code>，而不是在 <code>add</code> 的第二个参数中指定的 <code>&amp;str</code>。那么为什么示例 8-18 会编译通过呢？</p><p>我们之所以能在调用 <code>add</code> 时使用 <code>&amp;s2</code>，是因为编译器可以将 <code>&amp;String</code> 参数强制转换为 <code>&amp;str</code>。当我们调用 <code>add</code> 方法时，Rust 使用 <em>解引用强制转换</em>（deref coercion），这里将 <code>&amp;s2</code> 转换为 <code>&amp;s2[..]</code>。我们将在第15章中更详细地讨论解引用强制转换。由于 <code>add</code> 不会获取 <code>s</code> 参数的所有权，因此该操作之后 <code>s2</code> 仍然是一个有效的 <code>String</code>。</p><p>其次，我们可以在签名中看到，<code>add</code> 获取 <code>self</code> 的所有权，因为 <code>self</code> 没有 <code>&amp;</code>。这意味着示例 8-18 中的 <code>s1</code> 将在 <code>add</code> 调用中被移动，并在此之后不再有效。因此，虽然 <code>let s3 = s1 + &amp;s2;</code> 看起来像是复制了两个字符串并创建了一个新的字符串，但实际上，此语句实际上获取了 <code>s1</code> 的所有权，附加了 <code>s2</code> 内容的副本，然后返回了结果的所有权。换句话说，它看起来像是在进行大量复制，但实际上并非如此；实现比复制更高效。</p><p>如果我们需要连接多个字符串，<code>+</code> 运算符的行为就变得不太方便了：</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let s1 = String::from(&quot;tic&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s2 = String::from(&quot;tac&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s3 = String::from(&quot;toe&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s = s1 + &quot;-&quot; + &amp;s2 + &quot;-&quot; + &amp;s3;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>此时，<code>s</code> 将是 <code>tic-tac-toe</code>。由于其中包含大量的 <code>+</code> 和 <code>&quot;</code> 字符，很难看出发生了什么。对于更复杂的字符串组合，我们可以使用 <code>format!</code> 宏：</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let s1 = String::from(&quot;tic&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s2 = String::from(&quot;tac&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s3 = String::from(&quot;toe&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s = format!(&quot;{s1}-{s2}-{s3}&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这段代码也将 <code>s</code> 设置为 <code>tic-tac-toe</code>。<code>format!</code> 宏的工作方式类似于 <code>println!</code>，但不是将输出打印到屏幕，而是返回包含内容的 <code>String</code>。使用 <code>format!</code> 宏的版本更容易阅读，并且由 <code>format!</code> 宏生成的代码使用引用，因此这次调用不会获取其任何参数的所有权。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="字符串的索引"><a href="https://doc.rust-lang.org/book/ch08-02-strings.html#indexing-into-strings" target="_blank" rel="noopener noreferrer">字符串的索引</a><a href="#字符串的索引" class="hash-link" aria-label="Direct link to 字符串的索引" title="Direct link to 字符串的索引">​</a></h3><p>在许多其他编程语言中，通过索引引用字符串中的单个字符是一种有效且常见的操作。然而，在 Rust 中，如果您尝试使用索引语法来访问 <code>String</code> 的部分内容，将会出现错误。考虑无效代码示例 8-19。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let s1 = String::from(&quot;hello&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let h = s1[0];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-19：尝试使用索引语法访问字符串</p><p>这段代码将导致以下错误：</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cargo run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Compiling collections v0.1.0 (file:///projects/collections)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error[E0277]: the type `String` cannot be indexed by `{integer}`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> --&gt; src/main.rs:3:13</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 |     let h = s1[0];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |             ^^^^^ `String` cannot be indexed by `{integer}`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  = help: the trait `Index&lt;{integer}&gt;` is not implemented for `String`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  = help: the following other types implement trait `Index&lt;Idx&gt;`:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;String as Index&lt;RangeFrom&lt;usize&gt;&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;String as Index&lt;RangeFull&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;String as Index&lt;RangeInclusive&lt;usize&gt;&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;String as Index&lt;RangeTo&lt;usize&gt;&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;String as Index&lt;RangeToInclusive&lt;usize&gt;&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;String as Index&lt;std::ops::Range&lt;usize&gt;&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For more information about this error, try `rustc --explain E0277`.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error: could not compile `collections` due to previous error</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>错误和提示表明了问题：Rust 的字符串不支持索引。但是为什么呢？为了回答这个问题，我们需要讨论 Rust 如何在内存中存储字符串。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="内部表示"><a href="https://doc.rust-lang.org/book/ch08-02-strings.html#internal-representation" target="_blank" rel="noopener noreferrer">内部表示</a><a href="#内部表示" class="hash-link" aria-label="Direct link to 内部表示" title="Direct link to 内部表示">​</a></h4><p><code>String</code> 是 <code>Vec&lt;u8&gt;</code> 的包装器。让我们看一下来自示例 8-14 的一些正确编码的 UTF-8 示例字符串。首先是这个：</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let hello = String::from(&quot;Hola&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在这种情况下，<code>len</code> 将是 4，这意味着存储字符串“Hola”的向量长度为 4 字节。这些字母在 UTF-8 编码时每个占用 1 字节。然而，下面的代码可能会让您感到意外。注意，这个字符串以大写的西里尔字母 Ze 开头，而不是阿拉伯数字 3。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let hello = String::from(&quot;Здравствуйте&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>当问你这个字符串的长度时，您可能会说是 12。实际上，Rust 的答案是 24：这是“Здравствуйте”在 UTF-8 编码中所占用的字节数，因为该字符串中的每个 Unicode 标量值占用 2 个字节的存储空间。因此，通过索引访问字符串的字节不总是对应有效的 Unicode 标量值。为了证明这一点，考虑这个无效的 Rust 代码：</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> = &quot;Здравствуйте&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let answer = &amp;hello[0];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>代码尝试获取 <code>hello</code> 的第一个字节并将其存储在变量 <code>answer</code> 中。如果字符串以 ASCII 字母开始，则会运行得很好，因为每个字节都对应于一个有效的 Unicode 标量值，这也是字符串的目标读取单位。但是对于多字节字符，如上例中的西里尔字母 Ze，访问单个字节会导致不正确的内容，因为它只是该字符中的一部分。Rust 不允许这样的操作，因为它会造成无效的数据。</p><p>因此，在 Rust 中，不允许通过索引获取字符串内容，因为这可能会导致无效的 Unicode 标量值。那么如何获取字符串的一部分内容呢？</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="切片字符串"><a href="https://doc.rust-lang.org/book/ch08-02-strings.html#slicing-strings" target="_blank" rel="noopener noreferrer">切片字符串</a><a href="#切片字符串" class="hash-link" aria-label="Direct link to 切片字符串" title="Direct link to 切片字符串">​</a></h4><p>如果我们需要获取字符串的一部分内容，我们可以使用 <em>切片</em>（slicing）操作来实现。示例 8-20 展示了一个获取字符串切片的示例。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let hello = &quot;Здравствуйте&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s = &amp;hello[0..4];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-20：获取字符串切片</p><p>这个示例中的切片 <code>&amp;hello[0..4]</code> 获取了 <code>hello</code> 的前四个字节。请注意，这并不一定等于四个字符，因为我们使用了 UTF-8 编码。在这种情况下，我们将得到包含三个字母“З”和一个半个字母“д”的字符串切片。也就是说，我们获取了 <code>hello</code> 中索引 0 到 4 之前的部分。结果字符串切片的值将是“Зд”，而其字节长度为 4。</p><p>需要注意的一点是，<code>&amp;hello[0..4]</code> 的写法可以简化为 <code>&amp;hello[..4]</code>。如果切片从字符串的开头开始，则可以省略 0。示例 8-21 展示了等效的代码。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let hello = &quot;Здравствуйте&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s = &amp;hello[..4];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-21：使用简化的切片写法</p><p>同样，我们还可以获取字符串的一部分结尾。示例 8-22 展示了获取 <code>hello</code> 的最后两个字节的代码。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let hello = &quot;Здравствуйте&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s = &amp;hello[17..];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-22：获取字符串切片的结尾</p><p>此代码获取 <code>hello</code> 中索引 17 之后的所有内容。结果字符串切片将包含两个字节，它们是半个字符“е”和字符“т”。</p><p>请注意，如果切片的起始和结束位置超出了有效的索引范围，Rust 将会 panic！让我们看看示例 8-23 中的代码。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let hello = &quot;Здравствуйте&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s = &amp;hello[0..1];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-23：尝试获取超出索引范围的字符串切片</p><p>这段代码将产生如下 panic：</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">thread &#x27;main&#x27; panicked at &#x27;byte index 1 is not a char boundary; it is inside &#x27;З&#x27; (bytes 0..2) of `Здравствуйте`&#x27;, src/main.rs:3:17</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>由于字符“З”占用了两个字节，所以 <code>&amp;hello[0..1]</code> 尝试在字符“З”的中间进行切片，因此 Rust 认为这是无效的。</p><p>需要谨记的是，在使用切片时，请确保始终在有效的 Unicode 标量值边界进行切片，以免出现无效数据。因此，最好只在处理 ASCII 字符时使用索引，并在处理 Unicode 字符时使用切片。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="字符串方法"><a href="https://doc.rust-lang.org/book/ch08-02-strings.html#methods-for-strings" target="_blank" rel="noopener noreferrer">字符串方法</a><a href="#字符串方法" class="hash-link" aria-label="Direct link to 字符串方法" title="Direct link to 字符串方法">​</a></h3><p>Rust 的标准库提供了许多有用的方法，用于操作 <code>String</code> 和 <code>&amp;str</code> 值。这里有一些常用的方法：</p><ul><li><code>len</code> 方法返回 <code>String</code> 中字节的长度，而不是字符的数量。</li><li><code>is_empty</code> 方法检查字符串是否为空。</li><li><code>contains</code> 方法检查字符串是否包含特定的子字符串。</li><li><code>replace</code> 方法替换字符串中的部分内容。</li><li><code>split</code> 方法将字符串拆分为子字符串。</li><li><code>trim</code> 方法去除字符串前后的空白字符。</li></ul><p>在进行字符串处理时，建议查阅 Rust 标准库文档，以查找适合您需求的方法。这些方法会让您的代码更清晰，更易于维护。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-for-循环遍历字符串"><a href="https://doc.rust-lang.org/book/ch08-02-strings.html#using-for-loops-with-strings" target="_blank" rel="noopener noreferrer">使用 <code>for</code> 循环遍历字符串</a><a href="#使用-for-循环遍历字符串" class="hash-link" aria-label="Direct link to 使用-for-循环遍历字符串" title="Direct link to 使用-for-循环遍历字符串">​</a></h3><p>可以使用 <code>for</code> 循环遍历字符串的字符。由于字符串是 UTF-8 编码的，每个字符不一定占用一个字节。因此，<code>for</code> 循环将按照 Unicode 标量值的方式遍历字符串中的字符。示例 8-24 展示了如何使用 <code>for</code> 循环遍历字符串中的字符。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">for c in &quot;नमस्ते&quot;.chars() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    println!(&quot;{}&quot;, c);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-24：使用 <code>for</code> 循环遍历字符串的字符</p><p>执行这段代码将输出：</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">न</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">म</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">स</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">्</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">त</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">े</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>您可以看到，字符串被正确地拆分为了单个字符。请注意，字符“स”是在两个字节上表示的（&#x27;स&#x27; 和 &#x27;्&#x27;），这是 UTF-8 编码的一部分。因此，我们可以正确地遍历字符串并对每个字符执行操作。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-bytes-方法遍历字节httpsdocrust-langorgbookch">[使用 <code>bytes</code> 方法遍历字节]<!-- -->(<a href="https://doc.rust-lang.org/book/ch" target="_blank" rel="noopener noreferrer">https://doc.rust-lang.org/book/ch</a><a href="#使用-bytes-方法遍历字节httpsdocrust-langorgbookch" class="hash-link" aria-label="Direct link to 使用-bytes-方法遍历字节httpsdocrust-langorgbookch" title="Direct link to 使用-bytes-方法遍历字节httpsdocrust-langorgbookch">​</a></h3><p>08-02-strings.html#iterating-over-bytes)</p><p>如果您希望以字节为单位而不是以字符为单位遍历字符串，可以使用 <code>bytes</code> 方法。<code>bytes</code> 方法返回一个迭代器，它产生字符串的每个字节。示例 8-25 展示了如何使用 <code>bytes</code> 方法。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">for b in &quot;नमस्ते&quot;.bytes() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    println!(&quot;{}&quot;, b);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例 8-25：使用 <code>bytes</code> 方法遍历字符串的字节</p><p>这段代码的输出将是：</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">224</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">164</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">168</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">224</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">164</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">174</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">224</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">164</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">184</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">224</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">165</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">141</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">224</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">164</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">164</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>每个输出都是字符串中的一个字节，这些字节代表 Unicode 标量值的一部分。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-chars-和-bytes-方法的区别"><a href="https://doc.rust-lang.org/book/ch08-02-strings.html#differences-between-chars-and-bytes-methods" target="_blank" rel="noopener noreferrer">使用 <code>chars</code> 和 <code>bytes</code> 方法的区别</a><a href="#使用-chars-和-bytes-方法的区别" class="hash-link" aria-label="Direct link to 使用-chars-和-bytes-方法的区别" title="Direct link to 使用-chars-和-bytes-方法的区别">​</a></h3><p>使用 <code>chars</code> 方法或 <code>bytes</code> 方法进行遍历的选择取决于您希望以字符还是以字节为单位处理字符串。一般来说，如果您需要处理字符内容（例如，对字符进行计数或查找），则使用 <code>chars</code> 方法是更好的选择。如果您需要处理字节级别的内容（例如，对字节进行计数或查找特定的字节值），则使用 <code>bytes</code> 方法是更合适的。</p><p>在 Rust 中处理字符串时，请牢记字符串是 UTF-8 编码的，并且每个字符不一定占用一个字节。这种编码方式确保了 Rust 中的字符串处理是安全且高效的，但也需要更多的注意。请在处理字符串时仔细选择遍历方法，以确保您的代码正确处理 Unicode 字符。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="字符串切片"><a href="https://doc.rust-lang.org/book/ch08-02-strings.html#string-slices" target="_blank" rel="noopener noreferrer">字符串切片</a><a href="#字符串切片" class="hash-link" aria-label="Direct link to 字符串切片" title="Direct link to 字符串切片">​</a></h3><p>回顾一下，在字符串切片一节中，我们使用了如下代码：</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let hello = &quot;Здравствуйте&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let s = &amp;hello[0..4];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>尝试运行这段代码时，Rust 可能会在代码中的数字中看到任意 Unicode 字符的中间，并在运行时崩溃。让我们仔细看看为什么。</p><p>Rust 使用 UTF-8 编码存储字符串，而每个索引值都对应于字符串中的字节。但是，在切片中我们不应该只使用任意字节来获取子字符串，因为这可能会在 UTF-8 编码的字符串中返回无效的数据。我们只能在有效的 Unicode 标量值边界上进行切片。</p><p>那么，为什么 Rust 在编译时不检查这些索引呢？在其他编程语言中，这样的错误通常在编译时就能发现。Rust 更倾向于强调性能，并希望避免任何在运行时导致开销的操作。在字符串切片中添加运行时索引检查会导致性能下降。因此，Rust 在运行时提供了更多的灵活性，并将索引检查留给开发人员。这意味着，使用切片时，开发人员需要保证它们的代码正确处理 Unicode 字符，以避免潜在的问题。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="总结">总结<a href="#总结" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结">​</a></h2><p>本节讨论了 Rust 中字符串类型 <code>String</code> 和字符串切片 <code>&amp;str</code>，以及它们之间的区别。<code>String</code> 是可变的、堆分配的字符串类型，<code>&amp;str</code> 是不可变的、常量字符串切片。字符串是 UTF-8 编码的，因此在处理字符串时需要注意索引和切片的操作，以确保正确处理 Unicode 字符。</p><p>您已经学会了：</p><ul><li>如何创建和修改 <code>String</code>。</li><li>如何使用字符串切片 <code>&amp;str</code> 和操作来处理字符串。</li><li>如何使用 <code>for</code> 循环遍历字符串的字符和字节。</li><li>在处理字符串时要注意 Unicode 字符的编码和索引。</li></ul><p>字符串处理是任何编程语言中常见的任务。Rust 提供了灵活且高效的字符串处理方式，确保您的代码在处理字符串时既安全又高效。请始终牢记字符串是 UTF-8 编码的，并正确使用索引和切片来处理字符串内容。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mxsm/mxsm-website/edit/develop/docs/rust/official-doc/common-collections/02-string.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-08-20T07:55:36.000Z">Aug 20, 2023</time></b> by <b>mxsm</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/rust/official-doc/common-collections/vector"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">8.1. 使用向量（Vectors）存储多个值</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/rust/official-doc/common-collections/hashmap"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">8.3. 在哈希映射中存储具有关联值的键</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#使用字符串存储utf-8编码的文本" class="table-of-contents__link toc-highlight">使用字符串存储UTF-8编码的文本</a><ul><li><a href="#什么是字符串" class="table-of-contents__link toc-highlight">什么是字符串？</a></li><li><a href="#创建一个新的字符串" class="table-of-contents__link toc-highlight">创建一个新的字符串</a></li><li><a href="#更新字符串" class="table-of-contents__link toc-highlight">更新字符串</a><ul><li><a href="#使用-push_str-和-push-在字符串中添加内容" class="table-of-contents__link toc-highlight">使用 <code>push_str</code> 和 <code>push</code> 在字符串中添加内容</a></li><li><a href="#使用--运算符或-format-宏连接字符串" class="table-of-contents__link toc-highlight">使用 <code>+</code> 运算符或 <code>format!</code> 宏连接字符串</a></li></ul></li><li><a href="#字符串的索引" class="table-of-contents__link toc-highlight">字符串的索引</a><ul><li><a href="#内部表示" class="table-of-contents__link toc-highlight">内部表示</a></li><li><a href="#切片字符串" class="table-of-contents__link toc-highlight">切片字符串</a></li></ul></li><li><a href="#字符串方法" class="table-of-contents__link toc-highlight">字符串方法</a></li><li><a href="#使用-for-循环遍历字符串" class="table-of-contents__link toc-highlight">使用 <code>for</code> 循环遍历字符串</a></li><li><a href="#使用-bytes-方法遍历字节httpsdocrust-langorgbookch" class="table-of-contents__link toc-highlight">使用 bytes 方法遍历字节(https://doc.rust-lang.org/book/ch</a></li><li><a href="#使用-chars-和-bytes-方法的区别" class="table-of-contents__link toc-highlight">使用 <code>chars</code> 和 <code>bytes</code> 方法的区别</a></li><li><a href="#字符串切片" class="table-of-contents__link toc-highlight">字符串切片</a></li></ul></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/mxsm" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 mxsm(蚂蚁背大象), Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.844aad12.js"></script>
<script src="/assets/js/main.1cec991d.js"></script>
</body>
</html>