<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v0.0.0-4192">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TKMGCBC",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
<link rel="search" type="application/opensearchdescription+xml" title="mxsm(蚂蚁背大象)" href="/opensearch.xml"><title data-react-helmet="true">RocketMQ5.0源码分析-AutoSwitchHAClient | mxsm(蚂蚁背大象)</title><meta data-react-helmet="true" property="og:url" content="https://blog.ljbmxsm.com/docs/rocketmq5/store/AutoSwitchHAClient-source-code-analysis"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="og:image" content="https://ionicframework.com/docs/img/meta/open-graph.png"><meta data-react-helmet="true" name="twitter:image" content="https://ionicframework.com/docs/img/meta/open-graph.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="twitter:domain" content="ionicframework.com"><meta data-react-helmet="true" name="twitter:site" content="@ionicframework"><meta data-react-helmet="true" name="twitter:creator" content="ionicframework"><meta data-react-helmet="true" name="fb:page_id" content="1321836767955949"><meta data-react-helmet="true" name="og:type" content="website"><meta data-react-helmet="true" name="og:site_name" content="Ionic Framework Docs"><meta data-react-helmet="true" property="og:title" content="RocketMQ5.0源码分析-AutoSwitchHAClient | mxsm(蚂蚁背大象)"><meta data-react-helmet="true" name="description" content="在RocketMQ5.0的HA模式中，AutoSwitchHAClient 是一个重要的组件，主要作用Broker Slave中用来处理Broker Master发来的CommitLog数据。RocketMQ5.0对AutoSwitchHAClient进行了增强来适应RocketMQ5.0的DLedger Controller的模式。"><meta data-react-helmet="true" property="og:description" content="在RocketMQ5.0的HA模式中，AutoSwitchHAClient 是一个重要的组件，主要作用Broker Slave中用来处理Broker Master发来的CommitLog数据。RocketMQ5.0对AutoSwitchHAClient进行了增强来适应RocketMQ5.0的DLedger Controller的模式。"><link data-react-helmet="true" rel="shortcut icon" href="/img/meta/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://blog.ljbmxsm.com/docs/rocketmq5/store/AutoSwitchHAClient-source-code-analysis"><link data-react-helmet="true" rel="alternate" href="https://blog.ljbmxsm.com/cn/docs/rocketmq5/store/AutoSwitchHAClient-source-code-analysis" hreflang="cn"><link data-react-helmet="true" rel="alternate" href="https://blog.ljbmxsm.com/docs/rocketmq5/store/AutoSwitchHAClient-source-code-analysis" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://blog.ljbmxsm.com/docs/rocketmq5/store/AutoSwitchHAClient-source-code-analysis" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://O9QSL985BS-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.3eefbe21.css">
<link rel="preload" href="/assets/js/runtime~main.f79845a8.js" as="script">
<link rel="preload" href="/assets/js/main.c6d039ca.js" as="script">
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TKMGCBC" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="/logos/ionic-text-docs-dark.svg" alt="Site Logo" class="themedImage_TMUO themedImage--light_4Vu1" height="28" width="139"><img src="/logos/ionic-text-docs-light.svg" alt="Site Logo" class="themedImage_TMUO themedImage--dark_uzRr" height="28" width="139"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">RocketMQ</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/rocketmq/rocketmq5">RocketMQ 5.0</a></li><li><a class="dropdown__link" href="/docs/">RocketMQ 4.X</a></li><li><a href="https://github.com/apache/rocketmq" target="_blank" class="dropdown__link"><span>RocketMQ GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://rocketmq.apache.org/" target="_blank" class="dropdown__link"><span>RocketMQ official website<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">Spring</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/">Spring Framework</a></li><li><a class="dropdown__link" href="/docs/">Spring Boot</a></li><li><a class="dropdown__link" href="/docs/">Spring Cloud</a></li><li><a href="https://spring.io/" target="_blank" class="dropdown__link"><span>Spring official website<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">Java</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/">Java SE</a></li><li><a class="dropdown__link" href="/docs/">Java Web</a></li></ul></div><a position="left" href="/intro/upgrading-to-ionic-6" class="cta">Ionic v6.0.0 Upgrade Guide<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" width="12" height="12"><title>Arrow Forward</title><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M268 112l144 144-144 144M392 256H100"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_NKBi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link navbar__link--community">Community</a><ul class="dropdown__menu"><li><a href="https://ionicframework.com/community" target="_blank" class="dropdown__link"><span>Community Hub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://forum.ionicframework.com/" target="_blank" class="dropdown__link"><span>Forum<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://www.meetup.com/topics/ionic-framework/" target="_blank" class="dropdown__link"><span>Meetups<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://blog.ionicframework.com/" target="_blank" class="dropdown__link"><span>Blog<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://twitter.com/ionicframework" target="_blank" class="dropdown__link"><span>Twitter<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link navbar__link--support">Support</a><ul class="dropdown__menu"><li><a href="https://ionicframework.com/support" target="_blank" class="dropdown__link"><span>Help Center<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://ionic.zendesk.com/" target="_blank" class="dropdown__link"><span>Customer Support<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://ionicframework.com/advisory" target="_blank" class="dropdown__link"><span>Enterprise Advisory<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div position="right" class="separator"></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link icon-link language navbar__item"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_EbrZ"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/cn/docs/rocketmq5/store/AutoSwitchHAClient-source-code-analysis" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">中文</a></li><li><a href="/docs/rocketmq5/store/AutoSwitchHAClient-source-code-analysis" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="https://ionicframework.com/translate" target="_blank" class="dropdown__link"><span>Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><a position="right" class="icon-link navbar__item" href="https://twitter.com/Ionicframework" target="_blank"><img src="/logos/twitter.svg" alt="twitter logo"></a><a position="right" class="icon-link navbar__item" href="https://github.com/mxsm" target="_blank"><img src="/logos/github.svg" alt="github logo"></a><a position="right" class="icon-link navbar__item" href="https://ionic.link/discord" target="_blank"><img src="/logos/discord.svg" alt="discord logo"></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_GMj9"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="/logos/ionic-text-docs-dark.svg" alt="Site Logo" class="themedImage_TMUO themedImage--light_4Vu1" height="28" width="139"><img src="/logos/ionic-text-docs-light.svg" alt="Site Logo" class="themedImage_TMUO themedImage--dark_uzRr" height="28" width="139"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">RocketMQ</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/rocketmq/rocketmq5">RocketMQ 5.0</a></li><li><a class="dropdown__link" href="/docs/">RocketMQ 4.X</a></li><li><a href="https://github.com/apache/rocketmq" target="_blank" class="dropdown__link"><span>RocketMQ GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://rocketmq.apache.org/" target="_blank" class="dropdown__link"><span>RocketMQ official website<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">Spring</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/">Spring Framework</a></li><li><a class="dropdown__link" href="/docs/">Spring Boot</a></li><li><a class="dropdown__link" href="/docs/">Spring Cloud</a></li><li><a href="https://spring.io/" target="_blank" class="dropdown__link"><span>Spring official website<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">Java</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/">Java SE</a></li><li><a class="dropdown__link" href="/docs/">Java Web</a></li></ul></div><a position="left" href="/intro/upgrading-to-ionic-6" class="cta">Ionic v6.0.0 Upgrade Guide<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" width="12" height="12"><title>Arrow Forward</title><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M268 112l144 144-144 144M392 256H100"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_NKBi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link navbar__link--community">Community</a><ul class="dropdown__menu"><li><a href="https://ionicframework.com/community" target="_blank" class="dropdown__link"><span>Community Hub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://forum.ionicframework.com/" target="_blank" class="dropdown__link"><span>Forum<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://www.meetup.com/topics/ionic-framework/" target="_blank" class="dropdown__link"><span>Meetups<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://blog.ionicframework.com/" target="_blank" class="dropdown__link"><span>Blog<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://twitter.com/ionicframework" target="_blank" class="dropdown__link"><span>Twitter<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link navbar__link--support">Support</a><ul class="dropdown__menu"><li><a href="https://ionicframework.com/support" target="_blank" class="dropdown__link"><span>Help Center<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://ionic.zendesk.com/" target="_blank" class="dropdown__link"><span>Customer Support<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://ionicframework.com/advisory" target="_blank" class="dropdown__link"><span>Enterprise Advisory<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div position="right" class="separator"></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link icon-link language navbar__item"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_EbrZ"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/cn/docs/rocketmq5/store/AutoSwitchHAClient-source-code-analysis" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">中文</a></li><li><a href="/docs/rocketmq5/store/AutoSwitchHAClient-source-code-analysis" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="https://ionicframework.com/translate" target="_blank" class="dropdown__link"><span>Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><a position="right" class="icon-link navbar__item" href="https://twitter.com/Ionicframework" target="_blank"><img src="/logos/twitter.svg" alt="twitter logo"></a><a position="right" class="icon-link navbar__item" href="https://github.com/mxsm" target="_blank"><img src="/logos/github.svg" alt="github logo"></a><a position="right" class="icon-link navbar__item" href="https://ionic.link/discord" target="_blank"><img src="/logos/discord.svg" alt="discord logo"></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><main class="docMainContainer_Q970 docMainContainerEnhanced_ipQ4"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_MGa7"><div class="docItemContainer_PQH2"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_psec"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>RocketMQ5.0源码分析-AutoSwitchHAClient</h1></header><p>在RocketMQ5.0的HA模式中，<code>AutoSwitchHAClient</code> 是一个重要的组件，主要作用Broker Slave中用来处理Broker Master发来的CommitLog数据。RocketMQ5.0对<code>AutoSwitchHAClient</code>进行了增强来适应RocketMQ5.0的DLedger Controller的模式。</p><blockquote><p>Tips: RocketMQ版本：5.0.0</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="1-rocketmq4x和rocketmq50版本协议对比">1. RocketMQ4.x和RocketMQ5.0版本协议对比<a aria-hidden="true" class="hash-link" href="#1-rocketmq4x和rocketmq50版本协议对比" title="Direct link to heading">​</a></h2><p>在RocketMQ4.x版本中只有一个CommitLog数据传输的协议，而RocketMQ5.0为了适配DLedger Controller的模式增加了新的握手和连接协议以及对原有的CommitLog传输协议进行了增强。</p><ul><li><strong>HANDSHAKE(新增协议)</strong></li><li><strong>TRANSFER(对4.x版本进行了增强)</strong></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="11-handshake协议">1.1 HANDSHAKE协议<a aria-hidden="true" class="hash-link" href="#11-handshake协议" title="Direct link to heading">​</a></h3><p><strong>Slave发送给Master协议格式：</strong></p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/Handshake%20header.png" alt="Handshake header"></p><p><strong>作用：将Slave的状态告诉Master。</strong> </p><p>这个协议是RocketMQ5.0新增的协议。</p><blockquote><p>Tips: 在Broker Slave给Broker Master发了HANDSHAKE后，Broker Master处理完成后会给Broker Slave回一个ACK</p></blockquote><p><strong>Master给Slave回复的ACK协议格式：</strong></p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/Master%20Handshare%20Message%20ACK.png" alt="Master Handshare Message ACK"></p><p><strong>作用：用于对齐Slave和Master的数据</strong></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="12-transfer协议">1.2 TRANSFER协议<a aria-hidden="true" class="hash-link" href="#12-transfer协议" title="Direct link to heading">​</a></h3><p><strong>RocketMQ4.x协议格式：</strong></p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/transfer%20protocol.png" alt="transfer protocol"></p><p>分为头部和数据两大部分，头部包含了offSet和数据大小</p><p><strong>RocketMQ5.0协议格式：</strong></p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/Transfer%20Message.png" alt="Transfer Message"></p><p>由于是RocketMQ4.x的协议增强，除了包含offSet和数据大小以外还包含了DLedger Controller模式的一些Broker的元数据信息。</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="2-rocketmq50-autoswitchhaclient处理流程">2. RocketMQ5.0 AutoSwitchHAClient处理流程<a aria-hidden="true" class="hash-link" href="#2-rocketmq50-autoswitchhaclient处理流程" title="Direct link to heading">​</a></h2><p><strong><code>AutoSwitchHAClient</code></strong> 处理流程示意图如下：</p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/AutoSwitchHAClient%20Handle%20flow.png" alt="AutoSwitchHAClient Handle flow"></p><blockquote><p>Tips: 从源码可以知道AutoSwitchHAClient继承了ServiceThread，所以本质上AutoSwitchHAClient是一个线程。线程的循环执行来处理Master Broker发送过来的CommitLog。</p></blockquote><p><code>AutoSwitchHAClient</code> 主要通过不同的状态来控制不同的流程：</p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/AutoSwitchHAClient-status-change.png" alt="AutoSwitchHAClient-status-change"></p><p><strong>状态有以下几种：</strong></p><ul><li><strong>SHUTDOWN</strong></li><li><strong>READY</strong></li><li><strong>HANDSHAKE</strong></li><li><strong>TRANSFER</strong></li><li><strong>SUSPEND(暂时没用到)</strong></li></ul><p>AutoSwitchHAClient主要是Broker Slave用来处理Broker Master发送的数据，以及Broker Slave自身的一些内部</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="21-ready">2.1 READY<a aria-hidden="true" class="hash-link" href="#21-ready" title="Direct link to heading">​</a></h3><p><strong><code>READY</code></strong> 状态也是初始化状态，当AutoSwitchHAClient被初始化，AutoSwitchHAClient的状态会被设置为READY状态。在READY状态下主要做两件事：</p><ul><li><strong>Truncate Invalid message(截断无效的message)</strong></li><li><strong>Connect Broker Master（与Master建立TCP链接）</strong></li></ul><p>接下来我们就来分析这两种情况。</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="211-truncate-invalid-message截断无效的message">2.1.1 Truncate Invalid message(截断无效的message)<a aria-hidden="true" class="hash-link" href="#211-truncate-invalid-message截断无效的message" title="Direct link to heading">​</a></h4><p>什么情况下需要进行消息进行截断？当Broker分发的数据存在落后的情况也就是从Producer生成的消息发送到Broker后还存在有没有dispatch的数据这种情况下可能需要进行消息截断。然后对未dispatch的消息数据进行预处理校验。然后将预处理完成后的值后面的日志进行截断(也有可能不存在，这里是处理无效数据)</p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/image-20221012214111881.png" alt="image-20221012214111881"></p><p><strong>通过分析代码发现 AutoSwitchHAClient READY 状态下截断本质上是做的处理Slave Broker的无效日志和消费者队列的数据。也就是首先对齐自身的数据这里包括：CommitLog和Consumer Queue</strong></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="211--connect-broker-master与master建立tcp链接">2.1.1  Connect Broker Master（与Master建立TCP链接）<a aria-hidden="true" class="hash-link" href="#211--connect-broker-master与master建立tcp链接" title="Direct link to heading">​</a></h4><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/image-20221012215935051.png" alt="image-20221012215935051"></p><p>如果与Broker Master建立了TCP连接，然后会将状态设置为<strong><code>HANDSHAKE</code></strong></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="22-handshake">2.2 HANDSHAKE<a aria-hidden="true" class="hash-link" href="#22-handshake" title="Direct link to heading">​</a></h3><p>AutoSwitchHAClient在HANDSHAKE状态下会发送握手信息给Master，信息格式如下：</p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/Handshake%20header.png" alt="Handshake header"></p><p>也就是上文提到的HANDSHAKE协议数据。这里包括：</p><ul><li><strong>Slave的状态</strong></li><li>同步开始的文件位置，以及是否为Learner角色</li><li>slave的地址(通过长度来判断是否为IPV4还是IPV6)</li></ul><p>在Master收到Slave的发送的HANDSHAKE数据后会对数据进行处理：</p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/image-20221012221841662.png" alt="image-20221012221841662"></p><p>主要是将Slave的状态数据以及角色和IP地址记录到Master，同时master会构建一个HANDSHAKE的ACK给到Slave。那么Master给Slave返回的数据HANDSHAKE ACK数据格式：</p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/Master%20Handshare%20Message%20ACK.png" alt="Master Handshare Message ACK"></p><p>Master给Slave回的ACK包含了Master的一些元数据信息。源码代码构建如下：</p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/image-20221016094054892.png" alt="image-20221016094054892"></p><blockquote><p>Tips: 在5.0.0的代码中为了和发送日志数据的头统一，Master在给Slave回复 HANDSHAKE ACK状态的时候请求头也增加了EpochStartOffset和Additional info 字段。设置为0，为了减少数据传输笔者进行了优化去除了这两个字段传输具体可以参照 <a href="https://github.com/apache/rocketmq/issues/5157" target="_blank" rel="noopener noreferrer">ISSUE#5157</a> 对应的PR，社区已经approved等待代码合并。这个优化主要是处于两个考虑：</p><ul><li>和文档中的设计统一</li><li>减少传输过程中的数据传输</li></ul></blockquote><p>Slave收到Master的HANDSHAKE ACK后获取数据</p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/image-20221016103311015.png" alt="image-20221016103311015"></p><p><strong>主要是作用是Slave和Master对齐数据</strong></p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/image-20221016103809712.png" alt="image-20221016103809712"></p><p>到这里为止就完成整个传输数据的前期准备工作。</p><blockquote><p>总结：前期的准备工作主要做了两件事情</p><ul><li>Slave自身的数据对齐，删除一些无效的数据(如果有的情况下)，这些无效的数据包括日志数据、cq数据</li><li>Slave和Master的数据对齐，当Slave的数据在Master前面的时候也就是数据多于Master，此时会对数据进行删除。与此同时会对齐</li></ul></blockquote><h3 class="anchor anchorWithStickyNavbar_y2LR" id="23-transfer">2.3 TRANSFER<a aria-hidden="true" class="hash-link" href="#23-transfer" title="Direct link to heading">​</a></h3><p>Slave  AutoSwitchHAClient状态变成TRANSFER后就开始处理Master的发送过来的日志数据，处理完成后报告Slave的maxOffSet。</p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/image-20221016121849931.png" alt="image-20221016121849931"></p><blockquote><p>Tips: 日志数据传输不能跨Epoch传输。</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="3-协议优化思考">3. 协议优化思考<a aria-hidden="true" class="hash-link" href="#3-协议优化思考" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="31-handshake协议优化">3.1 HANDSHAKE协议优化<a aria-hidden="true" class="hash-link" href="#31-handshake协议优化" title="Direct link to heading">​</a></h3><p><strong>Slave发送给Master协议格式优化:</strong></p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/Handshake%20header.png" alt="Handshake header"></p><p>协议可以发现，用了4个字节来表示状态。这里的设计是和枚举的int类型进行了对应，其实我们可以用1btye来表示。地位到高位每一个bit表示状态，例如地位第一位1表示READY状态。同时Flags也可以进行优化用同样的1byte就可以表示状态。这样8byte的数据用2个byte就可以表示。</p><p><strong>Master发送给Slave的协议格式优化：</strong></p><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/Master%20Handshare%20Message%20ACK.png" alt="Master Handshare Message ACK"></p><p>这个优化同样也是优化state字段，优化的思路和上面的一致。</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="32-transfer协议优化">3.2 TRANSFER协议优化<a aria-hidden="true" class="hash-link" href="#32-transfer协议优化" title="Direct link to heading">​</a></h3><p><img src="https://raw.githubusercontent.com/mxsm/picture/main/rocketmq5/broker/ha/Transfer%20Message.png" alt="Transfer Message"></p><p>这个优化同样也是优化state字段，优化的思路和上面的一致。</p><blockquote><p>Tips: 后续笔者会在社区创建ISSUE进行社区讨论然后确定是否进行协议优化，如果确定进行协议优化提交对应的PR</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="4-总结">4. 总结<a aria-hidden="true" class="hash-link" href="#4-总结" title="Direct link to heading">​</a></h2><p>AutoSwitchHAClient作为RocketMQ5.0高可用的重要一个主键，其功能主要是Slave Broker和Master进行通讯同时处理来自Master传输的日志数据。搭配其他的组件使用来确保DLedger Controller模式下的自主切换和RocketMQ的高可用。后续会有文章接着分析其他DLedger Controller模式高可用的其他组件。</p><blockquote><p>我是蚂蚁背大象(GitHub:mxsm)，文章对你有帮助点赞关注我，文章有不正确的地方请您斧正留言评论~谢谢!</p></blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mxsm/mxsm-website/edit/main/docs/rocketmq5/store/AutoSwitchHAClient-source-code-analysis.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-edit iconEdit_PItR"><path d="M7 0C3.13438 0 0 3.21563 0 7.17813C0 10.35 2.00625 13.0375 4.7875 13.9875C4.83125 13.9969 4.86875 14 4.90625 14C5.16563 14 5.26562 13.8094 5.26562 13.6438C5.26562 13.4719 5.25938 13.0219 5.25625 12.4219C4.99375 12.4812 4.75938 12.5063 4.55 12.5063C3.20313 12.5063 2.89687 11.4594 2.89687 11.4594C2.57812 10.6313 2.11875 10.4094 2.11875 10.4094C1.50938 9.98125 2.11562 9.96875 2.1625 9.96875H2.16563C2.86875 10.0312 3.2375 10.7125 3.2375 10.7125C3.5875 11.325 4.05625 11.4969 4.475 11.4969C4.80312 11.4969 5.1 11.3906 5.275 11.3094C5.3375 10.8469 5.51875 10.5312 5.71875 10.35C4.16563 10.1688 2.53125 9.55313 2.53125 6.80312C2.53125 6.01875 2.80312 5.37813 3.25 4.87813C3.17812 4.69688 2.9375 3.96563 3.31875 2.97813C3.31875 2.97813 3.36875 2.9625 3.475 2.9625C3.72812 2.9625 4.3 3.05937 5.24375 3.71562C5.80312 3.55625 6.4 3.47812 6.99687 3.475C7.59062 3.47812 8.19063 3.55625 8.75 3.71562C9.69375 3.05937 10.2656 2.9625 10.5188 2.9625C10.625 2.9625 10.675 2.97813 10.675 2.97813C11.0563 3.96563 10.8156 4.69688 10.7437 4.87813C11.1906 5.38125 11.4625 6.02187 11.4625 6.80312C11.4625 9.55937 9.825 10.1656 8.26562 10.3438C8.51562 10.5656 8.74063 11.0031 8.74063 11.6719C8.74063 12.6313 8.73125 13.4062 8.73125 13.6406C8.73125 13.8094 8.82812 14 9.0875 14C9.125 14 9.16875 13.9969 9.2125 13.9875C11.9969 13.0375 14 10.3469 14 7.17813C14 3.21563 10.8656 0 7 0Z" fill="currentColor"></path></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div><div class="spacer"></div></div><div class="end"><div class="toc-wrapper"><h2>Contents</h2><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-rocketmq4x和rocketmq50版本协议对比" class="table-of-contents__link toc-highlight">1. RocketMQ4.x和RocketMQ5.0版本协议对比</a><ul><li><a href="#11-handshake协议" class="table-of-contents__link toc-highlight">1.1 HANDSHAKE协议</a></li><li><a href="#12-transfer协议" class="table-of-contents__link toc-highlight">1.2 TRANSFER协议</a></li></ul></li><li><a href="#2-rocketmq50-autoswitchhaclient处理流程" class="table-of-contents__link toc-highlight">2. RocketMQ5.0 AutoSwitchHAClient处理流程</a><ul><li><a href="#21-ready" class="table-of-contents__link toc-highlight">2.1 READY</a></li><li><a href="#22-handshake" class="table-of-contents__link toc-highlight">2.2 HANDSHAKE</a></li><li><a href="#23-transfer" class="table-of-contents__link toc-highlight">2.3 TRANSFER</a></li></ul></li><li><a href="#3-协议优化思考" class="table-of-contents__link toc-highlight">3. 协议优化思考</a><ul><li><a href="#31-handshake协议优化" class="table-of-contents__link toc-highlight">3.1 HANDSHAKE协议优化</a></li><li><a href="#32-transfer协议优化" class="table-of-contents__link toc-highlight">3.2 TRANSFER协议优化</a></li></ul></li><li><a href="#4-总结" class="table-of-contents__link toc-highlight">4. 总结</a></li></ul></div><a href="https://github.com/mxsm/mxsm-website/edit/main/docs/rocketmq5/store/AutoSwitchHAClient-source-code-analysis.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-edit iconEdit_PItR"><path d="M7 0C3.13438 0 0 3.21563 0 7.17813C0 10.35 2.00625 13.0375 4.7875 13.9875C4.83125 13.9969 4.86875 14 4.90625 14C5.16563 14 5.26562 13.8094 5.26562 13.6438C5.26562 13.4719 5.25938 13.0219 5.25625 12.4219C4.99375 12.4812 4.75938 12.5063 4.55 12.5063C3.20313 12.5063 2.89687 11.4594 2.89687 11.4594C2.57812 10.6313 2.11875 10.4094 2.11875 10.4094C1.50938 9.98125 2.11562 9.96875 2.1625 9.96875H2.16563C2.86875 10.0312 3.2375 10.7125 3.2375 10.7125C3.5875 11.325 4.05625 11.4969 4.475 11.4969C4.80312 11.4969 5.1 11.3906 5.275 11.3094C5.3375 10.8469 5.51875 10.5312 5.71875 10.35C4.16563 10.1688 2.53125 9.55313 2.53125 6.80312C2.53125 6.01875 2.80312 5.37813 3.25 4.87813C3.17812 4.69688 2.9375 3.96563 3.31875 2.97813C3.31875 2.97813 3.36875 2.9625 3.475 2.9625C3.72812 2.9625 4.3 3.05937 5.24375 3.71562C5.80312 3.55625 6.4 3.47812 6.99687 3.475C7.59062 3.47812 8.19063 3.55625 8.75 3.71562C9.69375 3.05937 10.2656 2.9625 10.5188 2.9625C10.625 2.9625 10.675 2.97813 10.675 2.97813C11.0563 3.96563 10.8156 4.69688 10.7437 4.87813C11.1906 5.38125 11.4625 6.02187 11.4625 6.80312C11.4625 9.55937 9.825 10.1656 8.26562 10.3438C8.51562 10.5656 8.74063 11.0031 8.74063 11.6719C8.74063 12.6313 8.73125 13.4062 8.73125 13.6406C8.73125 13.8094 8.82812 14 9.0875 14C9.125 14 9.16875 13.9969 9.2125 13.9875C11.9969 13.0375 14 10.3469 14 7.17813C14 3.21563 10.8656 0 7 0Z" fill="currentColor"></path></svg>Edit this page</a></div></div></div></div></main></div></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">版权所有 © 2022 mxsm(蚂蚁背大象). 使用 Docusaurus 构建.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f79845a8.js"></script>
<script src="/assets/js/main.c6d039ca.js"></script>
</body>
</html>