"use strict";(self.webpackChunkmxsm_website=self.webpackChunkmxsm_website||[]).push([[44859],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=d(n),m=r,g=c["".concat(s,".").concat(m)]||c[m]||p[m]||l;return n?a.createElement(g,i(i({ref:t},u),{},{components:n})):a.createElement(g,i({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var d=2;d<l;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},58215:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(67294);const r=function(e){let{children:t,hidden:n,className:r}=e;return a.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},26396:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(87462),r=n(67294),l=n(72389),i=n(79443);const o=function(){const e=(0,r.useContext)(i.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e};var s=n(89521),d=n(86010);const u="tabItem_vU9c";function p(e){var t,n;const{lazy:a,block:l,defaultValue:i,values:p,groupId:c,className:m}=e,g=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),k=p??g.map((e=>{let{props:{value:t,label:n}}=e;return{value:t,label:n}})),v=(0,s.lx)(k,((e,t)=>e.value===t.value));if(v.length>0)throw new Error(`Docusaurus error: Duplicate values "${v.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const h=null===i?i:i??(null==(t=g.find((e=>e.props.default)))?void 0:t.props.value)??(null==(n=g[0])?void 0:n.props.value);if(null!==h&&!k.some((e=>e.value===h)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${h}" but none of its children has the corresponding value. Available values are: ${k.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:b,setTabGroupChoices:N}=o(),[f,y]=(0,r.useState)(h),C=[],{blockElementScrollPositionUntilNextRender:w}=(0,s.o5)();if(null!=c){const e=b[c];null!=e&&e!==f&&k.some((t=>t.value===e))&&y(e)}const T=e=>{const t=e.currentTarget,n=C.indexOf(t),a=k[n].value;a!==f&&(w(t),y(a),null!=c&&N(c,a))},S=e=>{var t;let n=null;switch(e.key){case"ArrowRight":{const t=C.indexOf(e.currentTarget)+1;n=C[t]||C[0];break}case"ArrowLeft":{const t=C.indexOf(e.currentTarget)-1;n=C[t]||C[C.length-1];break}}null==(t=n)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,d.Z)("tabs",{"tabs--block":l},m)},k.map((e=>{let{value:t,label:n}=e;return r.createElement("li",{role:"tab",tabIndex:f===t?0:-1,"aria-selected":f===t,className:(0,d.Z)("tabs__item",u,{"tabs__item--active":f===t}),key:t,ref:e=>C.push(e),onKeyDown:S,onFocus:T,onClick:T},n??t)}))),a?(0,r.cloneElement)(g.filter((e=>e.props.value===f))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},g.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==f})))))}function c(e){const t=(0,l.Z)();return r.createElement(p,(0,a.Z)({key:String(t)},e))}},55820:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(67294);const r=e=>{const[t,n]=(0,a.useState)(e?"loading":"idle");return(0,a.useEffect)((()=>{if(!e)return void n("idle");let t=document.querySelector(`script[src="${e}"]`);if(t)n(t.getAttribute("data-status"));else{t=document.createElement("script"),t.src=e,t.async=!0,t.setAttribute("data-status","loading"),document.body.appendChild(t);const n=e=>{t.setAttribute("data-status","load"===e.type?"ready":"error")};t.addEventListener("load",n),t.addEventListener("error",n)}const a=e=>{n("load"===e.type?"ready":"error")};return t.addEventListener("load",a),t.addEventListener("error",a),()=>{t&&(t.removeEventListener("load",a),t.removeEventListener("error",a))}}),[e]),t};const l=function(e){return r("https://static.codepen.io/assets/embed/ei.js"),a.createElement("div",{className:"codepen","data-height":e.height,"data-theme-id":e.theme,"data-default-tab":e.defaultTab,"data-user":e.user,"data-slug-hash":e.slug,"data-preview":e.preview?"true":"false","data-pen-title":e.penTitle,"no-prerender":"true"})}},89845:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>d,default:()=>m,frontMatter:()=>s,metadata:()=>u,toc:()=>p});var a=n(87462),r=(n(67294),n(3905)),l=n(55820),i=n(26396),o=n(58215);const s={},d="Gestures",u={unversionedId:"utilities/gestures",id:"version-v5/utilities/gestures",isDocsHomePage:!1,title:"Gestures",description:"Overview",source:"@site/versioned_docs/version-v5/utilities/gestures.md",sourceDirName:"utilities",slug:"/utilities/gestures",permalink:"/docs/v5/utilities/gestures",editUrl:"https://github.com/ionic-team/ionic-docs/edit/main/versioned_docs/version-v5/utilities/gestures.md",tags:[],version:"v5",frontMatter:{},sidebar:"version-v5/docs",previous:{title:"Animations",permalink:"/docs/v5/utilities/animations"},next:{title:"iOS App Store",permalink:"/docs/v5/deployment/app-store"}},p=[{value:"Overview",id:"overview",children:[],level:2},{value:"Installation",id:"installation",children:[],level:2},{value:"Basic Gestures",id:"basic-gestures",children:[{value:"Usage",id:"usage",children:[],level:3}],level:2},{value:"Double Click Gesture",id:"double-click-gesture",children:[{value:"Usage",id:"usage-1",children:[],level:3}],level:2},{value:"Gesture Animations",id:"gesture-animations",children:[],level:2},{value:"Browser Support",id:"browser-support",children:[],level:2},{value:"Types",id:"types",children:[],level:2},{value:"Interfaces",id:"interfaces",children:[{value:"GestureConfig",id:"gestureconfig",children:[],level:3},{value:"GestureDetail",id:"gesturedetail",children:[],level:3}],level:2},{value:"Methods",id:"methods",children:[{value:"<code>enable(enable: boolean = true) =&gt; void</code>",id:"enableenable-boolean--true--void",children:[],level:4},{value:"<code>destroy() =&gt; void</code>",id:"destroy--void",children:[],level:4}],level:2}],c={toc:p};function m(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"gestures"},"Gestures"),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"Ionic Gestures is a utility that allows developers to build custom gestures and interactions for their application in a platform agnostic manner. Developers do not need to be using a particular framework such as React or Angular, nor do they even need to be building an Ionic app! As long as developers have access to v5.0 or greater of Ionic Framework, they will have access to all of Ionic Animations."),(0,r.kt)("p",null,"Building complex gestures can be time consuming. Other libraries that provide custom gestures are often times too heavy handed and end up capturing mouse or touch events and not letting them propagate. This can result in other elements no longer being scrollable or clickable."),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)(i.Z,{groupId:"framework",defaultValue:"javascript",values:[{value:"javascript",label:"JavaScript"},{value:"angular",label:"Angular"},{value:"react",label:"React"},{value:"vue",label:"Vue"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"javascript",mdxType:"TabItem"},(0,r.kt)("p",null,"Developers using Ionic Core and JavaScript should install the latest version of ",(0,r.kt)("inlineCode",{parentName:"p"},"@ionic/core"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import { createGesture } from 'https://cdn.jsdelivr.net/npm/@ionic/core@latest/dist/esm/index.mjs';\n\n...\n\nconst gesture = createGesture({\n  el: elementRef,\n  threshold: 15,\n  gestureName: 'my-gesture',\n  onMove: ev => onMoveHandler(ev)\n});\n\n"))),(0,r.kt)(o.Z,{value:"typescript",mdxType:"TabItem"},(0,r.kt)("p",null,"Developers using Ionic Core and TypeScript should install the latest version of ",(0,r.kt)("inlineCode",{parentName:"p"},"@ionic/core"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import { createGesture, Gesture } from '@ionic/core';\n\n...\n\nconst gesture: Gesture = createGesture({\n  el: elementRef,\n  threshold: 15,\n  gestureName: 'my-gesture',\n  onMove: ev => onMoveHandler(ev)\n});\n"))),(0,r.kt)(o.Z,{value:"angular",mdxType:"TabItem"},(0,r.kt)("p",null,"Developers using Angular should install the latest version of ",(0,r.kt)("inlineCode",{parentName:"p"},"@ionic/angular"),". Animations can be created via the ",(0,r.kt)("inlineCode",{parentName:"p"},"AnimationController")," dependency injection."),(0,r.kt)("p",null,"By default, gesture callbacks do not run inside of NgZone. Developers can either set the ",(0,r.kt)("inlineCode",{parentName:"p"},"runInsideAngularZone")," parameter to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," when creating a gesture,\nor they can wrap their callbacks in an ",(0,r.kt)("inlineCode",{parentName:"p"},"NgZone.run()")," call."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import { Gesture, GestureController } from '@ionic/angular';\n\n...\n\nconstructor(private gestureCtrl: GestureController) {\n  const gesture: Gesture = this.gestureCtrl.create({\n    el: this.element.nativeElement,\n    threshold: 15,\n    gestureName: 'my-gesture',\n    onMove: ev => this.onMoveHandler(ev)\n  }, true);\n  // The `true` above ensures that callbacks run inside NgZone.\n}\n\n"))),(0,r.kt)(o.Z,{value:"react",mdxType:"TabItem"},(0,r.kt)("p",null,"Developers using React should install the latest version of ",(0,r.kt)("inlineCode",{parentName:"p"},"@ionic/react"),". Full React wrappers are coming soon!"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import { createGesture, Gesture } from '@ionic/react';\n\n...\n\nconst gesture: Gesture = createGesture({\n  el: elementRef,\n  threshold: 15,\n  gestureName: 'my-gesture',\n  onMove: ev => onMoveHandler(ev)\n});\n"))),(0,r.kt)(o.Z,{value:"vue",mdxType:"TabItem"},(0,r.kt)("p",null,"Developers using Ionic Vue should install the latest version of ",(0,r.kt)("inlineCode",{parentName:"p"},"@ionic/vue"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import { createGesture } from '@ionic/vue';\nimport { ref } from 'vue';\n\n...\n\nconst elementRef = ref();\n\n...\n\nconst gesture = createGesture({\n  el: elementRef.value,\n  threshold: 15,\n  gestureName: 'my-gesture',\n  onMove: ev => onMoveHandler(ev)\n});\n\n")))),(0,r.kt)("h2",{id:"basic-gestures"},"Basic Gestures"),(0,r.kt)("h3",{id:"usage"},"Usage"),(0,r.kt)(i.Z,{groupId:"framework",defaultValue:"javascript",values:[{value:"javascript",label:"JavaScript"},{value:"angular",label:"Angular"},{value:"react",label:"React"},{value:"vue",label:"Vue"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"javascript",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"let p = document.querySelector('p');\nconst gesture = createGesture({\n  el: document.querySelector('.rectangle'),\n  onMove: (detail) => { onMove(detail); }\n})\n\ngesture.enable();\n\nconst onMove = (detail) => {\n  const type = detail.type;\n  const currentX = detail.currentX;\n  const deltaX = detail.deltaX;\n  const velocityX = detail.velocityX;\n\n  p.innerHTML = `\n    <div>Type: ${type}</div>\n    <div>Current X: ${currentX}</div>\n    <div>Delta X: ${deltaX}</div>\n    <div>Velocity X: ${velocityX}</div>\n  `\n}\n"))),(0,r.kt)(o.Z,{value:"angular",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"@ViewChild('paragraph') p: ElementRef;\n\nngOnInit() {\n  const gesture = this.gestureCtrl.create({\n    el: this.rectangle.nativeElement,\n    onMove: (detail) => { this.onMove(detail); }\n  })\n\n  gesture.enable();\n}\n\nprivate onMove(detail) {\n  const type = detail.type;\n  const currentX = detail.currentX;\n  const deltaX = detail.deltaX;\n  const velocityX = detail.velocityX;\n\n  this.p.innerHTML = `\n    <div>Type: ${type}</div>\n    <div>Current X: ${currentX}</div>\n    <div>Delta X: ${deltaX}</div>\n    <div>Velocity X: ${velocityX}</div>\n  `\n}\n"))),(0,r.kt)(o.Z,{value:"react",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"let p = document.querySelector('p');\nconst gesture = createGesture({\n  el: document.querySelector('.rectangle'),\n  onMove: (detail) => { onMove(detail); }\n})\n\ngesture.enable();\n\nconst onMove = (detail) => {\n  const type = detail.type;\n  const currentX = detail.currentX;\n  const deltaX = detail.deltaX;\n  const velocityX = detail.velocityX;\n\n  p.innerHTML = `\n    <div>Type: ${type}</div>\n    <div>Current X: ${currentX}</div>\n    <div>Delta X: ${deltaX}</div>\n    <div>Velocity X: ${velocityX}</div>\n  `\n}\n"))),(0,r.kt)(o.Z,{value:"vue",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import { createGesture } from '@ionic/vue';\nimport { ref } from 'vue';\n\n...\n\nlet pRef = ref();\nconst rectangleRef = ref();\nconst gesture = createGesture({\n  el: rectangleRef.value,\n  onMove: (detail) => { onMove(detail); }\n})\n\ngesture.enable();\n\nconst onMove = (detail) => {\n  const type = detail.type;\n  const currentX = detail.currentX;\n  const deltaX = detail.deltaX;\n  const velocityX = detail.velocityX;\n\n  pRef.value.innerHTML = `\n    <div>Type: ${type}</div>\n    <div>Current X: ${currentX}</div>\n    <div>Delta X: ${deltaX}</div>\n    <div>Velocity X: ${velocityX}</div>\n  `\n}\n")))),(0,r.kt)("p",null,"In this example, our app listens for gestures on the ",(0,r.kt)("inlineCode",{parentName:"p"},".rectangle")," element. When a gesture movement is detected, the ",(0,r.kt)("inlineCode",{parentName:"p"},"onMove")," function is called, and our app logs the current gesture information."),(0,r.kt)(l.Z,{user:"ionic",slug:"xxKBYdL",mdxType:"Codepen"}),(0,r.kt)("h2",{id:"double-click-gesture"},"Double Click Gesture"),(0,r.kt)("h3",{id:"usage-1"},"Usage"),(0,r.kt)(i.Z,{groupId:"framework",defaultValue:"javascript",values:[{value:"javascript",label:"JavaScript"},{value:"angular",label:"Angular"},{value:"react",label:"React"},{value:"vue",label:"Vue"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"javascript",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const backgrounds = ['rgba(0, 0, 255, 0.5)', 'rgba(0, 255, 0.5)', 'rgba(255, 0, 0, 0.5)', 'rgba(255, 255, 0, 0.5)', 'rgba(255, 0, 255, 0.5)', 'rgba(0, 255, 255, 0.5)'];\nconst DOUBLE_CLICK_THRESHOLD = 500;\nconst rectangle = document.querySelector('.rectangle');\nconst gesture = createGesture({\n  el: rectangle,\n  threshold: 0,\n  onStart: () => { onStart(); }\n});\n\ngesture.enable();\n\nlet lastOnStart = 0;\nlet currentColor = 'rgba(0, 0, 255, 0.5)';\n\nconst onStart = () => {\n  const now = Date.now();\n\n  if (Math.abs(now - lastOnStart) <= DOUBLE_CLICK_THRESHOLD) {\n    rectangle.style.setProperty('background', getRandomBackground());\n    lastOnStart = 0;\n  } else {\n    lastOnStart = now;\n  }\n}\n\nconst getRandomBackground = () => {\n  const options = backgrounds.filter(bg => bg !== currentColor);\n  currentColor = options[Math.floor(Math.random() * options.length)];\n\n  return currentColor;\n}\n"))),(0,r.kt)(o.Z,{value:"angular",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"@ViewChild('rectangle') rectangle: ElementRef;\n\nprivate backgrounds: string[] = ['rgba(0, 0, 255, 0.5)', 'rgba(0, 255, 0.5)', 'rgba(255, 0, 0, 0.5)', 'rgba(255, 255, 0, 0.5)', 'rgba(255, 0, 255, 0.5)', 'rgba(0, 255, 255, 0.5)'];\nprivate currentColor: string = 'rgba(0, 0, 255, 0.5)';\nprivate lastOnStart: number = 0;\nprivate DOUBLE_CLICK_THRESHOLD: number = 500;\n\nngOnInit() {\n  const gesture = this.gestureCtrl.create({\n    el: this.rectangle.nativeElement,\n    threshold: 0,\n    onStart: () => { this.onStart(); }\n  });\n\n  gesture.enable();\n}\n\nprivate onStart() {\n  const now = Date.now();\n\n  if (Math.abs(now - this.lastOnStart) <= this.DOUBLE_CLICK_THRESHOLD) {\n    this.rectangle.nativeElement.style.setProperty('background', this.getRandomBackground());\n    this.lastOnStart = 0;\n  } else {\n    this.lastOnStart = now;\n  }\n}\n\nprivate getRandomBackground() {\n  const options = this.backgrounds.filter(bg => bg !== this.currentColor);\n  this.currentColor = options[Math.floor(Math.random() * options.length)];\n\n  return this.currentColor;\n}\n"))),(0,r.kt)(o.Z,{value:"react",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const backgrounds = ['rgba(0, 0, 255, 0.5)', 'rgba(0, 255, 0.5)', 'rgba(255, 0, 0, 0.5)', 'rgba(255, 255, 0, 0.5)', 'rgba(255, 0, 255, 0.5)', 'rgba(0, 255, 255, 0.5)'];\nconst DOUBLE_CLICK_THRESHOLD = 500;\nconst rectangle = document.querySelector('.rectangle');\nconst gesture = createGesture({\n  el: rectangle,\n  threshold: 0,\n  onStart: () => { onStart(); }\n});\n\ngesture.enable();\n\nlet lastOnStart = 0;\nlet currentColor = 'rgba(0, 0, 255, 0.5)';\n\nconst onStart = () => {\n  const now = Date.now();\n\n  if (Math.abs(now - lastOnStart) <= DOUBLE_CLICK_THRESHOLD) {\n    rectangle.style.setProperty('background', getRandomBackground());\n    lastOnStart = 0;\n  } else {\n    lastOnStart = now;\n  }\n}\n\nconst getRandomBackground = () => {\n  const options = backgrounds.filter(bg => bg !== currentColor);\n  currentColor = options[Math.floor(Math.random() * options.length)];\n\n  return currentColor;\n}\n"))),(0,r.kt)(o.Z,{value:"vue",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import { createGesture } from '@ionic/vue';\nimport { ref } from 'vue';\n\n...\n\nconst backgrounds = ['rgba(0, 0, 255, 0.5)', 'rgba(0, 255, 0.5)', 'rgba(255, 0, 0, 0.5)', 'rgba(255, 255, 0, 0.5)', 'rgba(255, 0, 255, 0.5)', 'rgba(0, 255, 255, 0.5)'];\nconst DOUBLE_CLICK_THRESHOLD = 500;\nconst rectangleRef = ref();\nconst gesture = createGesture({\n  el: rectangleRef.value,\n  threshold: 0,\n  onStart: () => { onStart(); }\n});\n\ngesture.enable();\n\nlet lastOnStart = 0;\nlet currentColor = 'rgba(0, 0, 255, 0.5)';\n\nconst onStart = () => {\n  const now = Date.now();\n\n  if (Math.abs(now - lastOnStart) <= DOUBLE_CLICK_THRESHOLD) {\n    rectangleRef.value.style.setProperty('background', getRandomBackground());\n    lastOnStart = 0;\n  } else {\n    lastOnStart = now;\n  }\n}\n\nconst getRandomBackground = () => {\n  const options = backgrounds.filter(bg => bg !== currentColor);\n  currentColor = options[Math.floor(Math.random() * options.length)];\n\n  return currentColor;\n}\n")))),(0,r.kt)("p",null,"In the example above, we want to be able to detect double clicks on an element. By setting our ",(0,r.kt)("inlineCode",{parentName:"p"},"threshold")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),", we can ensure our gesture object can detect clicks. Additionally, we define a click threshold so that only 2 clicks that occur in quick succession count as a double click."),(0,r.kt)(l.Z,{user:"ionic",slug:"oNvVEwE",mdxType:"Codepen"}),(0,r.kt)("h2",{id:"gesture-animations"},"Gesture Animations"),(0,r.kt)("p",null,"See our guide on implementing gesture animations: ",(0,r.kt)("a",{parentName:"p",href:"/docs/v5/utilities/animations#gesture-animations"},"Gesture Animations with Ionic Animations")),(0,r.kt)("h2",{id:"browser-support"},"Browser Support"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Browser/Platform"),(0,r.kt)("th",{parentName:"tr",align:null},"Supported Versions"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Chrome")),(0,r.kt)("td",{parentName:"tr",align:null},"22+")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Safari")),(0,r.kt)("td",{parentName:"tr",align:null},"9+")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Firefox")),(0,r.kt)("td",{parentName:"tr",align:null},"32+")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"IE/Edge")),(0,r.kt)("td",{parentName:"tr",align:null},"11+")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Opera")),(0,r.kt)("td",{parentName:"tr",align:null},"30+")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"iOS")),(0,r.kt)("td",{parentName:"tr",align:null},"9+")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Android")),(0,r.kt)("td",{parentName:"tr",align:null},"5+")))),(0,r.kt)("h2",{id:"types"},"Types"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"GestureCallback")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"(detail: GestureDetail) => boolean \\| void"))))),(0,r.kt)("h2",{id:"interfaces"},"Interfaces"),(0,r.kt)("h3",{id:"gestureconfig"},"GestureConfig"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"el"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Node")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"undefined")),(0,r.kt)("td",{parentName:"tr",align:null},"The element to listen on for gestures.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"disableScroll"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"boolean \\| undefined")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"If true, scrolling will be disabled on ",(0,r.kt)("inlineCode",{parentName:"td"},"el")," while the gesture is enabled.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"direction"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'x' \\| 'y' \\| undefined")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'x'")),(0,r.kt)("td",{parentName:"tr",align:null},"Limit gesture detection to movements along a certain axis.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"gestureName"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"undefined")),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the gesture to create.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"gesturePriority"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number \\| undefined")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0")),(0,r.kt)("td",{parentName:"tr",align:null},"Gestures with higher priorities will override gestures with lower priorities. Useful for ensuring the multiple gestures do not collide with one another.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"passive"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"boolean \\| undefined")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"If true, this will indicate that the gesture will never call ",(0,r.kt)("inlineCode",{parentName:"td"},"preventDefault()"),". This can be used to improve scrolling performance. See ",(0,r.kt)("a",{parentName:"td",href:"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Improving_scrolling_performance_with_passive_listeners"},"Passive Listeners")," for more information.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"maxAngle"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number \\| undefined")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"40")),(0,r.kt)("td",{parentName:"tr",align:null},"The maximum angle to allow when detecting a gesture.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"threshold"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number \\| undefined")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"10")),(0,r.kt)("td",{parentName:"tr",align:null},"Defines how much a pointer must move before the gesture starts.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"blurOnStart"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"boolean \\| undefined")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"undefined")),(0,r.kt)("td",{parentName:"tr",align:null},"If true, the gesture will blur any active selectable element such as an input or a textarea before firing the ",(0,r.kt)("inlineCode",{parentName:"td"},"onStart")," callback.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"canStart"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"GestureCallback \\| undefined")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"undefined")),(0,r.kt)("td",{parentName:"tr",align:null},"A callback that returns true if a gesture is allowed to start.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"onWillStart"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"(detail: GestureDetail) => Promise<void>")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"undefined")),(0,r.kt)("td",{parentName:"tr",align:null},"A callback that fires when a gesture is about to start. This is fired after ",(0,r.kt)("inlineCode",{parentName:"td"},"canStart")," but before ",(0,r.kt)("inlineCode",{parentName:"td"},"onStart"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"onStart"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"GestureCallback \\| undefined")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"undefined")),(0,r.kt)("td",{parentName:"tr",align:null},"A callback that fires when a gesture has started.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"onMove"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"GestureCallback \\| undefined")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"undefined")),(0,r.kt)("td",{parentName:"tr",align:null},"A callback that fires when a gesture movement was detected.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"onEnd"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"GestureCallback \\| undefined")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"undefined")),(0,r.kt)("td",{parentName:"tr",align:null},"A callback that fires when a gesture has ended. This is usually when a pointer has been released.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"notCaptured"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"GestureCallback \\| undefined")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"undefined")),(0,r.kt)("td",{parentName:"tr",align:null},"A callback that fires when a gesture has not been captured. This usually happens when there is a conflicting gesture with a higher priority.")))),(0,r.kt)("h3",{id:"gesturedetail"},"GestureDetail"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"type"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The type of gesture that was detected.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"startX"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"The starting x coordinate of the gesture.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"startY"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"The starting y coordinate of the gesture.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"startTimeStamp"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"The timestamp at which the gesture was started.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"currentX"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"The current x coordinate of the gesture.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"currentY"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"The current y coordinate of the gesture.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"velocityX"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"How fast the gesture is currently moving on the x axis.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"velocityY"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"How fast the gesture is currently moving on the y axis.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"deltaX"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"How much the gesture has moved on the x axis since it started.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"deltaY"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"How much the gesture has moved on the y axis since it started.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"timeStamp"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"The current timestamp of the gesture.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"event"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"UIEvent")),(0,r.kt)("td",{parentName:"tr",align:null},"The native event dispatched by the browser. See ",(0,r.kt)("a",{parentName:"td",href:"https://developer.mozilla.org/en-US/docs/Web/API/UIEvent"},"UIEvent")," for more information.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"data"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"any \\| undefined")),(0,r.kt)("td",{parentName:"tr",align:null},"Any data specified by the user. This can be set and read in any of the callbacks.")))),(0,r.kt)("h2",{id:"methods"},"Methods"),(0,r.kt)("h4",{id:"enableenable-boolean--true--void"},(0,r.kt)("inlineCode",{parentName:"h4"},"enable(enable: boolean = true) => void")),(0,r.kt)("p",null,"Enable or disable the gesture."),(0,r.kt)("h4",{id:"destroy--void"},(0,r.kt)("inlineCode",{parentName:"h4"},"destroy() => void")),(0,r.kt)("p",null,"Destroy the gesture instance and stop listening on the target element."))}m.isMDXComponent=!0}}]);